<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.2">
<title>GeoWave Developer Guide</title>
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove the comments around the @import statement below when using this as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
#map_canvas img,#map_canvas embed,#map_canvas object,.map_canvas img,.map_canvas embed,.map_canvas object{max-width:none!important}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
.antialiased,body{-webkit-font-smoothing:antialiased}
img{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{display:inline-block;color:rgba(0,0,0,.8);font-size:.75em;line-height:1.4;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:-.15em .15em 0 .15em;padding:.2em .6em .2em .5em;vertical-align:middle;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.05em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.spread{width:100%}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1{padding-right:.75em;font-weight:bold}
td.hdlist1,td.hdlist2{vertical-align:top}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none}
span.footnote,span.footnoteref{vertical-align:super;font-size:.875em}
span.footnote a,span.footnoteref a{text-decoration:none}
span.footnote a:active,span.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em;line-height:1.3;font-size:.875em;margin-left:1.2em;text-indent:-1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
h1,h2{letter-spacing:-.01em}
dt,th.tableblock,td.content{text-rendering:optimizeLegibility}
p,td.content{letter-spacing:-.01em}
p strong,td.content strong{letter-spacing:-.005em}
p,blockquote,dt,td.content{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img{page-break-inside:avoid}
thead{display:table-header-group}
img{max-width:100%!important}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="stylesheets/font-awesome.css">
<link rel="stylesheet" href="vendors/highlightjs/styles/github.min.css">
<script src="vendors/highlightjs/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
<!-- docinfo.html -->
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="manifest" href="site.webmanifest">

<!-- CSS - Google Fonts -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300i,400,400i,700,700i,900,900i|Livvic:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,900,900i&display=swap" />

<!-- CSS - Bootstrap 4.4.1 -->
<link href="vendors/css/bootstrap.min.css" rel="stylesheet" />

<!-- CSS - DataTables -->
<link href="vendors/css/dataTables.bootstrap4.min.css" rel="stylesheet" />

<!-- CSS - GeoWave Bootstrap Theme -->
<link href="stylesheets/geowave-boostrap-theme.css" rel="stylesheet" />

<!-- CSS - GeoWave Custom Styles -->
<link href="stylesheets/geowave.css" rel="stylesheet" />

<!-- CSS - GeoWave Documentation Syles  -->
<link href="stylesheets/geowave-docs.css" rel="stylesheet" />

<!-- CSS - Ion Icons -->
<link href="vendors/css/ionicons.min.css" rel="stylesheet" />

<!-- JS - Bootstrap 4.4.1 -->
<script src="vendors/js/jquery-3.4.1.min.js"></script>
<script src="vendors/js/popper.min.js"></script>
<script src="vendors/js/bootstrap.min.js"></script>

<!-- JS - GeoWave -->
<script src="js/versions.js"></script>
<script src="https://locationtech.github.io/geowave/js/versions.js"></script>
<script src="js/geowave.js"></script>

<!-- Start Navbar -->
<nav class="navbar navbar-docs navbar-expand-lg navbar-dark fixed-top">
    <div class="container-fluid">
        <a class="navbar-brand" href="index.html">
            <img src="images/geowave-logo-light.png" alt="GeoWave Logo">
        </a>
        <span id="doc-title-separator">|</span>
        <a id="doc-title" href="#"></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive"
            aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="dropdown06" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">Documentation</a>
                    <div id="documentation-menu" class="dropdown-menu" aria-labelledby="dropdown06">
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="dropdown06" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">Support</a>
                    <div id="support-menu" class="dropdown-menu" aria-labelledby="dropdown06">
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="current-version" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false"></a>
                    <div id="version-menu" class="dropdown-menu" aria-labelledby="dropdown06">
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="dropdown06" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">GitHub</a>
                    <div id="github-menu" class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdown06">
                    </div>
                </li>
            </ul>
        </div>
    </div>
</nav>
<!-- End Navbar -->

<!-- Page Preloader -->
<div class="preloader"></div>
</head>
<body class="book toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#geowave-developer-guide">GeoWave Developer Guide</a>
<ul class="sectlevel1">
<li><a href="#introduction-2">Introduction</a>
<ul class="sectlevel2">
<li><a href="#purpose-of-this-guide">Purpose of this Guide</a></li>
<li><a href="#assumptions">Assumptions</a></li>
<li><a href="#development-requirements">Development Requirements</a></li>
</ul>
</li>
<li><a href="#development-setup">Development Setup</a>
<ul class="sectlevel2">
<li><a href="#retrieving-the-code">Retrieving the Code</a></li>
<li><a href="#eclipse-ide-setup">Eclipse IDE Setup</a></li>
</ul>
</li>
<li><a href="#building-the-source">Building the Source</a>
<ul class="sectlevel2">
<li><a href="#build-geowave">Building GeoWave</a></li>
<li><a href="#running-integration-tests">Running Integration Tests</a></li>
<li><a href="#build-python-bindings">Building Python Bindings</a></li>
<li><a href="#build-docs">Building Docs</a></li>
<li><a href="#docker-build-process">Docker Build Process</a></li>
</ul>
</li>
<li><a href="#packaging-geowave-builds">Packaging GeoWave Builds</a>
<ul class="sectlevel2">
<li><a href="#geowave-cli-tools">GeoWave CLI Tools</a></li>
<li><a href="#geoserver-plugin">GeoServer Plugin</a></li>
<li><a href="#accumulo-jar">Accumulo JAR</a></li>
<li><a href="#hbase-coprocessor-jar">HBase Coprocessor JAR</a></li>
<li><a href="#standalone-installers">Standalone Installers</a></li>
</ul>
</li>
<li><a href="#how-to-contribute">How to Contribute</a>
<ul class="sectlevel2">
<li><a href="#pull-requests">Pull Requests</a></li>
</ul>
</li>
<li><a href="#architecture-2">Architecture</a>
<ul class="sectlevel2">
<li><a href="#overview">Overview</a></li>
<li><a href="#key-structure">Key Structure</a></li>
<li><a href="#data-stores">Data Stores</a></li>
<li><a href="#indices">Indices</a></li>
<li><a href="#adapters">Adapters</a></li>
</ul>
</li>
<li><a href="#statistics-2">Statistics</a>
<ul class="sectlevel2">
<li><a href="#overview-2">Overview</a></li>
<li><a href="#statistic-types">Statistic Types</a></li>
<li><a href="#binning-strategies">Binning Strategies</a></li>
<li><a href="#table-structure">Table Structure</a></li>
<li><a href="#getting-statistic-values">Getting Statistic Values</a></li>
<li><a href="#implementing-new-statistics-and-binning-strategies">Implementing New Statistics and Binning Strategies</a></li>
</ul>
</li>
<li><a href="#ingest-2">Ingest</a>
<ul class="sectlevel2">
<li><a href="#overview-3">Overview</a></li>
<li><a href="#ingest-plugins">Ingest Plugins</a></li>
</ul>
</li>
<li><a href="#query-2">Query</a>
<ul class="sectlevel2">
<li><a href="#query-overview">Overview</a></li>
<li><a href="#query-builders">Query Builders</a></li>
<li><a href="#filter-expressions">Filter Expressions</a></li>
<li><a href="#contextual-query-language-cql">Contextual Query Language (CQL)</a></li>
<li><a href="#geowave-query-language-gwql">GeoWave Query Language (GWQL)</a></li>
</ul>
</li>
<li><a href="#services">Services</a>
<ul class="sectlevel2">
<li><a href="#grpc">gRPC</a></li>
</ul>
</li>
<li><a href="#programmatic-api-examples">Programmatic API Examples</a>
<ul class="sectlevel2">
<li><a href="#creating-data-stores">Creating Data Stores</a></li>
<li><a href="#creating-indices">Creating Indices</a></li>
<li><a href="#ingesting-data">Ingesting Data</a></li>
<li><a href="#querying-data">Querying Data</a></li>
<li><a href="#aggregating-data">Aggregating Data</a></li>
<li><a href="#querying-statistics">Querying Statistics</a></li>
</ul>
</li>
<li><a href="#appendices-2">Appendices</a>
<ul class="sectlevel2">
<li><a href="#extending-geowave-2">Extending GeoWave</a></li>
<li><a href="#documentation-2">Documentation</a></li>
<li><a href="#geowave-project-descriptions">GeoWave Project Descriptions</a></li>
<li><a href="#maven-artifacts">Maven Artifacts</a></li>
<li><a href="#python-api-2">Python API</a></li>
<li><a href="#jace-jni-proxies-2">Jace JNI Proxies</a></li>
<li><a href="#theory">Theory</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div style="page-break-after: always;"></div>
</div>
</div>
<h1 id="geowave-developer-guide" class="sect0"><a class="anchor" href="#geowave-developer-guide"></a>GeoWave Developer Guide</h1>
<div class="openblock partintro">
<div class="content">
<script>
var doc_name = "Developer Guide";
</script>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="introduction-2"><a class="anchor" href="#introduction-2"></a>Introduction</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="purpose-of-this-guide"><a class="anchor" href="#purpose-of-this-guide"></a>Purpose of this Guide</h3>
<div class="paragraph">
<p>This guide focuses on the development side of GeoWave. It also serves as a deep dive into some of the inner workings of GeoWave.  The target audience for this guide are GeoWave developers and developers who wish to use GeoWave as part of another software package.</p>
</div>
</div>
<div class="sect2">
<h3 id="assumptions"><a class="anchor" href="#assumptions"></a>Assumptions</h3>
<div class="paragraph">
<p>This guide assumes the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The reader is familiar with the basics of GeoWave discussed in the <a href="overview.html">Overview</a>.</p>
</li>
<li>
<p>The reader is familiar with the contents of the <a href="userguide.html">GeoWave User Guide</a>.</p>
</li>
<li>
<p>GeoWave has already been installed and is available on the command-line.  See the <a href="installation-guide.html" target="_blank">Installation Guide</a> for help with the installation process.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="development-requirements"><a class="anchor" href="#development-requirements"></a>Development Requirements</h3>
<div class="paragraph">
<p>GeoWave development requires the following components:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank">Java Development Kit (JDK)</a> (&gt;= 1.8)</p>
<div class="paragraph">
<p>Requires JDK v1.8 or greater</p>
</div>
<div class="paragraph">
<p>Download from the <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank">Java downloads site</a>. The OracleJDK is the most thoroughly tested but there are no known issues with OpenJDK.</p>
</div>
</li>
<li>
<p><a href="http://git-scm.com/" target="_blank">Git</a></p>
<div class="paragraph">
<p>Reference online material at <a href="https://git-scm.com/" target="_blank">Git SCM Site</a>.</p>
</div>
<div class="paragraph">
<p>For a complete reference guide for installing and using Git, please reference chapters in the online <a href="https://git-scm.com/book/en/v2" target="_blank">Pro Git book</a>.</p>
</div>
</li>
<li>
<p><a href="https://maven.apache.org/" target="_blank">Maven</a></p>
<div class="paragraph">
<p>Requires a version of Maven &gt;= 3.2.1</p>
</div>
<div class="paragraph">
<p>For a reference guide for getting started with Maven, please reference the online <a href="https://maven.apache.org/guides/getting-started/" target="_blank">Maven Getting Started Guide</a>.</p>
</div>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="development-setup"><a class="anchor" href="#development-setup"></a>Development Setup</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="retrieving-the-code"><a class="anchor" href="#retrieving-the-code"></a>Retrieving the Code</h3>
<div class="paragraph">
<p>Users have two options for retrieving the GeoWave source code: either by cloning the repository or by directly downloading the code repository as a ZIP archive.</p>
</div>
<div class="sect3">
<h4 id="cloning-repo"><a class="anchor" href="#cloning-repo"></a>Cloning the GeoWave Git Repository</h4>
<div class="paragraph">
<p>The GeoWave code source can be cloned using the Git command-line interface. Using a Git clone allows the developer to easily compare different revisions of the codebase, as well as to prepare changes for a pull request.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For developers who wish to make contributions to the GeoWave project, it is recommended that a fork of the main GeoWave repository be created.  By submitting code contributions to a fork of GeoWave, pull requests can be submitted to the main repository. See the <a href="https://guides.github.com/activities/forking/" target="_blank">GitHub Forking</a> documentation for more details.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the system directory where the GeoWave project code is to be located. The clone process will copy all of the repository&#8217;s contents to a directory called <code>geowave</code>, it is therefore important to make sure that a directory called <code>geowave</code> does not already exist at the desired location.</p>
</li>
<li>
<p>Clone the git repository by running the command:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ git clone https://github.com/locationtech/geowave.git</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you do not need the complete history, and want to speed up the clone, you can limit the depth of the checkout process by appending <code>-depth 1</code> to the clone command above.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The clone process can take several minutes and should produce output similar to the following:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Cloning into 'geowave'...
remote: Counting objects: 1311924, done.
remote: Compressing objects: 100% (196/196), done.
remote: Total 1311924 (delta 68), reused 0 (delta 0), pack-reused 1311657
Receiving objects: 100% (1311924/1311924), 784.52 MiB | 6.18 MiB/s, done.
Resolving deltas: 100% (1159959/1159959), done.</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Confirm that the GeoWave contents were properly downloaded by examining the contents of the <code>geowave</code> directory. The contents of the directory should be identical to the listings in the <a href="https://github.com/locationtech/geowave">GeoWave GitHub repository</a>.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="downloading-repo"><a class="anchor" href="#downloading-repo"></a>Downloading the Code as ZIP Archive</h4>
<div class="paragraph">
<p>This option is for users who do not intend to contribute to the GeoWave project source, but still would like to build or explore the source code. This is by far the simplest and most direct way to access the code.</p>
</div>
<div class="paragraph">
<p>To download a read-only version of the code repository:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open a web browser and navigate to the <a href="https://github.com/locationtech/geowave" target="_blank">GeoWave GitHub repository</a> where the different projects and latest changes can be viewed.</p>
</li>
<li>
<p>If interested in a particular branch, select the branch of choice. Otherwise, leave on the default master branch for the latest tested changes.</p>
</li>
<li>
<p>Locate the green “Clone or download” button near the top right of the file navigation section.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/Clone_Download_Repo.png" alt="Clone_Download_Repo.png" width="100%">
</div>
<div class="title">Figure 1. Clone &amp; Download GeoWave Repository</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Expand the “Clone or download” pane by clicking on the green button labeled "Clone or download".</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/Clone_Download_Expand.png" alt="Clone_Download_Expand.png" width="50%">
</div>
<div class="title">Figure 2. Clone &amp; Download GeoWave Source Expanded</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Download the code by clicking on the “Download ZIP” button. Depending on browser settings, the code will either download automatically to the user account’s downloads directory or a prompt will ask for the download destination. If the ZIP file is automatically downloaded to the downloads directory, manually move the ZIP file to the intended destination directory.</p>
</li>
<li>
<p>Navigate to the system directory where the ZIP file is located and unzip the contents.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="eclipse-ide-setup"><a class="anchor" href="#eclipse-ide-setup"></a>Eclipse IDE Setup</h3>
<div class="paragraph">
<p>The recommended Integrated Development Environment (IDE) for GeoWave is Eclipse. This section will walk you through importing the GeoWave Maven projects into the Eclipse IDE.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Setup and configuration of IDEs other than Eclipse are outside the scope of this document. If you do not wish to use Eclipse, there are likely guides available that discuss importing Maven projects into the IDE of your choice.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Using the <a href="http://www.eclipse.org/m2e/" target="_blank">Eclipse Maven M2Eclipse plugin</a>, we can import Maven projects into Eclipse. When importing Maven projects, Eclipse will automatically resolve and download dependencies listed in the <code>pom.xml</code> file for each project.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If a project&#8217;s <code>pom.xml</code> dependencies are changed, Eclipse will detect the change, pull in the updated dependencies, and update any downstream projects.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Import the Maven GeoWave projects into the Eclipse workspace.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Within Eclipse, select File &#8594; Import.</p>
<div class="imageblock">
<div class="content">
<img src="./images/Eclipse-File-Import.png" alt="Eclipse-File-Import.png" width="width=" height="35%"">
</div>
<div class="title">Figure 3. Eclipse File Import Menu</div>
</div>
</li>
<li>
<p>From the "Import" window, select the option under "Maven" for "Existing Maven Projects" and select the "Next" button.</p>
<div class="imageblock">
<div class="content">
<img src="./images/import-maven-eclipse-projects.png" alt="import-maven-eclipse-projects.png" width="30%">
</div>
<div class="title">Figure 4. Existing Maven Projects Wizard</div>
</div>
</li>
<li>
<p>From the "Import Maven Projects" window, select the “Browse” button and navigate to the root directory where the GeoWave source is located on the file system. Once found, select the <em>geowave</em> directory and select the "Open" button.</p>
</li>
<li>
<p>Within the "Import Maven Projects" window, the “Projects” pane should now be populated with all of the GeoWave projects. Select the "Finish" button to exit.</p>
</li>
<li>
<p>Upon returning to the workspace in Eclipse, the <em>Project Explorer</em> pane should now be populated with all of the GeoWave projects.</p>
<div class="imageblock">
<div class="content">
<img src="./images/EclipseWorkspace.png" alt="EclipseWorkspace.png" width="25%">
</div>
<div class="title">Figure 5. Eclipse Workspace</div>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If Eclipse produces <code>Plugin execution not covered by lifecycle configuration:&#8230;&#8203;</code> error messages in the <code>geowave-datastore-hbase</code> or <code>geowave-grpc-protobuf</code> project <code>pom.xml</code> files, they may be ignored. The error can be muted by hovering the mouse over the line of XML and selecting the <code>Mark goal as ignored in eclipse preferences</code> option.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="clean-up-and-formatter-templates"><a class="anchor" href="#clean-up-and-formatter-templates"></a>Clean Up and Formatter Templates</h4>
<div class="paragraph">
<p>The GeoWave repository includes clean up and formatter templates that can be used by Eclipse to clean and format code according to GeoWave standards when those operations are performed in the IDE.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Within Eclipse, open the Eclipse Preferences window. (Eclipse &#8594; Preferences&#8230;&#8203; on Mac, Window &#8594; Preferences on Windows and Linux).</p>
</li>
<li>
<p>Import clean up template:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Navigate to the Java &#8594; Code Style &#8594; Clean Up.</p>
</li>
<li>
<p>Press the "Import&#8230;&#8203;" button.</p>
</li>
<li>
<p>Navigate to the <code>dev-resources/src/main/resources/eclipse</code> directory from the GeoWave source, select  <code>eclipse-cleanup.xml</code>, and press the "Open" button.</p>
</li>
<li>
<p>Press the "Apply" button.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Import formatter template:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Navigate to the Java &#8594; Code Style &#8594; Formatter.</p>
</li>
<li>
<p>Press the "Import&#8230;&#8203;" button.</p>
</li>
<li>
<p>Navigate to the <code>dev-resources/src/main/resources/eclipse</code> directory from the GeoWave source, select  <code>eclipse-formatter.xml</code>, and press the "Open" button.</p>
</li>
<li>
<p>Press the "Apply and Close" button.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Now when Source &#8594; Clean Up&#8230;&#8203; or Source &#8594; Format are used, they will be done in a manner consistent with the rest of the GeoWave source code.</p>
</div>
</div>
<div class="sect3">
<h4 id="debugging"><a class="anchor" href="#debugging"></a>Debugging</h4>
<div class="paragraph">
<p>One of the simplest ways to debug GeoWave source code and analyze system interactions is to create a debug configuration and step through the integration test suite.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Within Eclipse open the Debug Configurations window (Run &#8594; Debug Configurations&#8230;&#8203;).</p>
</li>
<li>
<p>Right-click on "JUnit" in the configuration type list on the left-hand side of the window and select "New Configuration".</p>
</li>
<li>
<p>Give the configuration a name, and ensure that <code>geowave-test</code> is set in the "Project" field.</p>
</li>
<li>
<p>Set the "Test Class" field to <code>org.locationtech.geowave.test.GeoWaveITSuite</code> (or any other test class that is preferred).</p>
</li>
<li>
<p>Navigate to the arguments tab and set values for the "VM arguments" field. Example: <code>-ea -DtestStoreType=ROCKSDB -DenableServerSideLibrary=false</code> will run the test suite with RocksDB as the data store. Note: The <code>DenableServerSideLibrary</code> option technically only applies to Accumulo and HBase currently and is false by default.</p>
</li>
<li>
<p>Click the "Apply" button to save the changes and then "Debug" to start the actual process.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The integration test suite allocates some resources on the local file system. If the suite is terminated or canceled before it finishes, it is possible that some of these resources may not be fully cleaned up by the test runner. This may cause issues or errors in subsequent runs of the suite. To resolve this issue, delete the <code>temp</code> folder and the <code>&lt;DataStoreName&gt;_temp</code> folder where <code>&lt;DataStoreName&gt;</code> is the name of the data store used by the current debug configuration. Both of these folders will exist under the <code>target</code> directory of the <code>geowave-test</code> project.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="building-the-source"><a class="anchor" href="#building-the-source"></a>Building the Source</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="build-geowave"><a class="anchor" href="#build-geowave"></a>Building GeoWave</h3>
<div class="paragraph">
<p>To build the project source, navigate to the root directory of the GeoWave project using a command-line tool and execute the following maven command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ mvn clean install <i class="conum" data-value="1"></i><b>(1)</b> <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>You can speed up the build by skipping unit tests and bug checks by adding <code>-Dfindbugs.skip -Dspotbugs.skip -DskipTests</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>You can prevent GDAL-related tests from running by setting an environment variable called GDAL_DISABLED to true: <code>export GDAL_DISABLED=true</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>After executing the command, Maven will search for all of the projects that need to be built and begin the build process.  The initial output of the command should look something like the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[INFO] Scanning for projects...
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO]
[INFO] GeoWave Parent POM
[INFO] GeoWave Core Parent POM
[INFO] GeoWave CLI
[INFO] GeoWave Index
[INFO] GeoWave Store
.
.
.</pre>
</div>
</div>
<div class="paragraph">
<p>The build process can take several minutes, but once this is completed, the compiled artifacts for each project will be installed to your local Maven repository. They will also be available in each project&#8217;s <code>target</code> directory.</p>
</div>
</div>
<div class="sect2">
<h3 id="running-integration-tests"><a class="anchor" href="#running-integration-tests"></a>Running Integration Tests</h3>
<div class="paragraph">
<p>By default, integration tests are not run as part of the normal build process.  This is because integration tests can be run for a multitude of key/value store backends, and tests for a single backend can take a significant amount of time to complete.  Usually these integration tests are run through <a href="https://github.com/locationtech/geowave/actions/workflows/test.yml" target="_blank">GitHub Actions</a>, but it can be useful to run them locally when working on code that could potentially impact one of the tests.</p>
</div>
<div class="paragraph">
<p>Integration tests are all written in the <code>geowave-tests</code> project and are run using a series of Maven profiles.  The following table shows the various profiles available along with a description of the tests that are run:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Maven Profile</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">accumulo-it-client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run integration tests on Accumulo with server-side libraries disabled</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">accumulo-it-server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run integration tests on Accumulo with server-side libraries enabled</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">accumulo-it-all</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run integration tests on Accumulo with server-side libraries enabled and disabled</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bigtable-it</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run integration tests on Bigtable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cassandra-it</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run integration tests on Cassandra</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dynamodb-it</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run integration tests on DynamoDB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hbase-it-client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run integration tests on HBase with server-side libraries disabled</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hbase-it-server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run integration tests on HBase with server-side libraries enabled</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hbase-it-all</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run integration tests on HBase with server-side libraries enabled and disabled</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">kudu-it</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run integration tests on Kudu</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">redis-it</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run integration tests on Redis</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rocksdb-it</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run integration tests on RocksDB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">secondary-index-it</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run integration tests with secondary indexing enabled, this profile can be used with any of the previous profiles</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In order to use one of these profiles to run integration tests, use the same command that was used to build the source, but add the appropriate profile to the end.  For example, if you wanted to run integration tests for RocksDB, the command would look like the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ mvn clean install -Procksdb-it</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you have already built GeoWave, you can skip straight to the integration tests:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ mvn clean install -rf :geowave-test -Procksdb-it</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="build-python-bindings"><a class="anchor" href="#build-python-bindings"></a>Building Python Bindings</h3>
<div class="paragraph">
<p>The Python bindings for GeoWave (<code>pygw</code>) use a different build process than the Java component. The Python source code for <code>pygw</code> can be found in the <code>python/src/main/python</code> directory.  In order to install <code>pygw</code> from source, you will need <a href="https://www.python.org" target="_blank">Python 3</a> (up to Python 3.7) and <a href="https://virtualenv.pypa.io/en/stable" target="_blank">Virtualenv</a>.</p>
</div>
<div class="sect3">
<h4 id="building-the-wheel"><a class="anchor" href="#building-the-wheel"></a>Building the Wheel</h4>
<div class="paragraph">
<p>Navigate to Python source directory <code>python/src/main/python</code> in your command-line tool and perform the following steps.</p>
</div>
<div class="paragraph">
<p>Create the virtual environment:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ virtualenv -p python3.7 venv</code></pre>
</div>
</div>
<div class="paragraph">
<p>Activate the environment:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ source venv/bin/activate</code></pre>
</div>
</div>
<div class="paragraph">
<p>Install requirements in the activated python virtual environment:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ pip install -r requirements.txt</pre>
</div>
</div>
<div class="paragraph">
<p>Install necessary build tools:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ pip install --upgrade pip wheel setuptools twine</code></pre>
</div>
</div>
<div class="paragraph">
<p>Build the wheel:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ python setup.py bdist_wheel --python-tag=py3 sdist</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="installing-the-wheel"><a class="anchor" href="#installing-the-wheel"></a>Installing the Wheel</h4>
<div class="paragraph">
<p>After performing the steps in the build step, a <code>.whl</code> file should be written to the <code>dist</code> directory.  To install it, simply perform the <code>pip install</code> command on that file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ pip install dist/pygw-*.whl</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you have multiple wheel builds in the <code>dist</code> directory, use the full filename of the <code>.whl</code> you wish to install.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="running-tests"><a class="anchor" href="#running-tests"></a>Running Tests</h4>
<div class="paragraph">
<p>In order to run tests for <code>pygw</code>, a GeoWave Py4J Java Gateway needs to be running.  GeoWave offers a simple CLI command to run a gateway.  In a separate window, execute the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ geowave util python rungateway</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If GeoWave was installed using the standalone installer, this command is only available if the <code>Python Tools</code> component was included.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>While this gateway is running, execute the following command to run the tests:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ python -m pytest</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="build-docs"><a class="anchor" href="#build-docs"></a>Building Docs</h3>
<div class="paragraph">
<p>GeoWave documentation consists of several different parts, the main documentation, which includes this guide, the Javadocs, and the Python bindings documentation.</p>
</div>
<div class="sect3">
<h4 id="geowave-documentation"><a class="anchor" href="#geowave-documentation"></a>GeoWave Documentation</h4>
<div class="paragraph">
<p>GeoWave documentation is primarily written with <a href="asciidoctor.org">Asciidoctor</a> and can be built using a single Maven command from the GeoWave root directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ mvn -P html -pl docs install -DskipTests -Dspotbugs.skip</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command compiles all documentation as HTML and outputs it to the <code>target/site</code> directory.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
PDF output is also supported by replacing <code>-P html</code> in the above command with <code>-P pdf</code>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="javadocs"><a class="anchor" href="#javadocs"></a>Javadocs</h4>
<div class="paragraph">
<p>Javadocs for all projects can be built using the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ mvn -q javadoc:aggregate -DskipTests -Dspotbugs.skip</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command will output all of the Javadocs to the <code>target/site/apidocs</code> directory.</p>
</div>
</div>
<div class="sect3">
<h4 id="python-bindings-documentation"><a class="anchor" href="#python-bindings-documentation"></a>Python Bindings Documentation</h4>
<div class="paragraph">
<p>They GeoWave Python bindings been documented using Python docstrings. In order to generate this documentation, a Python environment should be set up and the GeoWave Py4J Java Gateway should be running, see <a href="#build-python-bindings">Build Python Bindings</a> for help with this.  Once the environment is activated an the gateway is running, execute the following command from the <code>python/src/main/python</code> directory to generate the documentation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ pdoc --html pygw</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will generate the Python API documentation in the <code>python/src/main/python/html/pygw</code> directory.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="docker-build-process"><a class="anchor" href="#docker-build-process"></a>Docker Build Process</h3>
<div class="paragraph">
<p>We have support for building both the GeoWave JAR artifacts and RPMs from Docker containers. This capability is useful for a number of different situations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Jenkins build workers can run Docker on a variety of host-operating systems and build for others</p>
</li>
<li>
<p>Anyone running Docker will be able to duplicate our build and packaging environments</p>
</li>
<li>
<p>Will allow us to build on existing container clusters instead of single purpose build VMs</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If building artifacts using Docker containers interests you, check out the README in <a href="https://github.com/locationtech/geowave/tree/master/deploy/packaging/docker" target="_blank"><code>deploy/packaging/docker</code></a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="packaging-geowave-builds"><a class="anchor" href="#packaging-geowave-builds"></a>Packaging GeoWave Builds</h2>
<div class="sectionbody">
<div class="paragraph">
<p>GeoWave can be packaged in several different ways.  Prior to packaging GeoWave, make sure that the build process has completed.</p>
</div>
<div class="sect2">
<h3 id="geowave-cli-tools"><a class="anchor" href="#geowave-cli-tools"></a>GeoWave CLI Tools</h3>
<div class="paragraph">
<p>GeoWave artifacts can be packaged into a single JAR that can be used to execute CLI commands by running the following Maven command from the GeoWave root directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ mvn package -P geowave-tools-singlejar -Dfindbugs.skip -Dspotbugs.skip -DskipTests</code></pre>
</div>
</div>
<div class="paragraph">
<p>After the packaging process is complete, the resulting JAR will be available in the <code>deploy/target</code> directory with a name like <code>geowave-deploy-&lt;version&gt;-geoserver.jar</code>.  To use this jar for CLI commands you can execute it using the following java command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ java -cp java -cp &lt;geowave_home&gt;/deploy/target/geowave-deploy-2.0.1-SNAPSHOT-tools.jar org.locationtech.geowave.core.cli.GeoWaveMain &lt;command&gt; &lt;options&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Replace <code>&lt;geowave_home&gt;</code> with the GeoWave home directory, or use an environment variable.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As you can see, using GeoWave in this way can be fairly cumbersome.  To make things easier, this command can be wrapped up in an alias.</p>
</div>
<div class="listingblock">
<div class="title">Linux, Mac, Windows w/ Git Bash</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ alias geowave="java -cp $GEOWAVE_HOME/deploy/target/geowave-deploy-2.0.1-SNAPSHOT-tools.jar org.locationtech.geowave.core.cli.GeoWaveMain"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Windows Command Prompt</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ doskey geowave=java -cp %GEOWAVE_HOME%/deploy/target/geowave-deploy-2.0.1-SNAPSHOT-tools.jar org.locationtech.geowave.core.cli.GeoWaveMain $*</code></pre>
</div>
</div>
<div class="paragraph">
<p>After the alias has been created, you will be able to use the GeoWave CLI with the <code>geowave</code> command. For a full list of these commands, please see the <a href="commands.html" target="_blank">GeoWave CLI Appendix</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="geoserver-plugin"><a class="anchor" href="#geoserver-plugin"></a>GeoServer Plugin</h3>
<div class="paragraph">
<p>GeoWave artifacts can be packaged into a single JAR to be used in a GeoServer installation by running the following Maven command from the GeoWave root directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ mvn package -P geotools-container-singlejar -Dfindbugs.skip -Dspotbugs.skip -DskipTests</code></pre>
</div>
</div>
<div class="paragraph">
<p>After the packaging process is complete, the resulting JAR will be available in the <code>deploy/target</code> directory with a name like <code>geowave-deploy-&lt;version&gt;-geoserver.jar</code>. To use this jar with a GeoServer installation, simply copy it to the <code>WEB-INF/lib</code> directory of GeoServer&#8217;s installation and restart the web service that GeoServer is running on.</p>
</div>
</div>
<div class="sect2">
<h3 id="accumulo-jar"><a class="anchor" href="#accumulo-jar"></a>Accumulo JAR</h3>
<div class="paragraph">
<p>GeoWave artifacts can be packaged into a JAR to be used by Accumulo for server-side operations by running the following Maven command from the GeoWave root directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ mvn package -P accumulo-container-singlejar -Dfindbugs.skip -Dspotbugs.skip -DskipTests</code></pre>
</div>
</div>
<div class="paragraph">
<p>After the packaging process is complete, the resulting JAR will be available in the <code>deploy/target</code> directory with a name like <code>geowave-deploy-&lt;version&gt;-accumulo.jar</code>. See <a href="userguide.html#accumulo-config" target="_blank">Accumulo Configuration</a> in the User Guide for more information about using this jar.</p>
</div>
</div>
<div class="sect2">
<h3 id="hbase-coprocessor-jar"><a class="anchor" href="#hbase-coprocessor-jar"></a>HBase Coprocessor JAR</h3>
<div class="paragraph">
<p>GeoWave artifacts can be packaged into a coprocessor JAR for HBase server-side operations by running the following Maven command from the GeoWave root directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ mvn package -P hbase-container-singlejar -Dfindbugs.skip -Dspotbugs.skip -DskipTests</code></pre>
</div>
</div>
<div class="paragraph">
<p>After the packaging process is complete, the resulting JAR will be available in the <code>deploy/target</code> directory with a name like <code>geowave-deploy-&lt;version&gt;-hbase.jar</code>. In order to use this jar, copy it to an HDFS location that is accessible to HBase. When configuring the GeoWave HBase data store (either through the GeoServer plugin or the CLI), set the <code>coprocessorJar</code> option to the HDFS location of the jar.</p>
</div>
</div>
<div class="sect2">
<h3 id="standalone-installers"><a class="anchor" href="#standalone-installers"></a>Standalone Installers</h3>
<div class="paragraph">
<p>Standalone installers for Linux, Mac, and Windows can be built using <a href="https://www.ej-technologies.com/products/install4j/overview.html" target="_blank">Install4J</a>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Installers are built using Install4J, which requires an active license to use. This section of the guide assumes that Install4J has been installed on the system and has a valid license.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Several things need to be done in order to successfully build the standalone installers, each of which are outlined below.</p>
</div>
<div class="sect3">
<h4 id="build-geowave-artifacts"><a class="anchor" href="#build-geowave-artifacts"></a>Build GeoWave Artifacts</h4>
<div class="paragraph">
<p>The installers require all of the GeoWave artifacts to be built prior to packaging.  See <a href="#build-geowave">Building GeoWave</a> for help with building the artifacts.</p>
</div>
</div>
<div class="sect3">
<h4 id="build-geowave-documentation"><a class="anchor" href="#build-geowave-documentation"></a>Build GeoWave Documentation</h4>
<div class="paragraph">
<p>The installers provide an option to the user to install documentation, because of this, all documentation should be built prior to packaging the installers.  See<a href="#build-docs">Building Documentation</a> for help with building all of the documentation.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
After building the Python documentation, move the <code>python/src/main/python/html/pygw</code> directory to the <code>target/site</code> directory and rename it to <code>pydocs</code>.  This will prevent broken links in the generated documentation.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This step can be skipped, but the the documentation directory of the GeoWave installation will be empty. This can save some time if the installer is only intended to be used for testing purposes.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="package-installer-plugins"><a class="anchor" href="#package-installer-plugins"></a>Package Installer Plugins</h4>
<div class="paragraph">
<p>The installers provide several ways for users to customize their installation of GeoWave.  This is handled by packaging GeoWave extensions and optional components as installer plugins. All installer plugins in the GeoWave codebase can be packaged using the following Maven command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ mvn package -P build-installer-plugin -DskipTests -Dfindbugs.skip -Dspotbugs.skip</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will package all of the installer plugins and put them into directories expected by the Install4J build process.</p>
</div>
</div>
<div class="sect3">
<h4 id="build-installers"><a class="anchor" href="#build-installers"></a>Build Installers</h4>
<div class="paragraph">
<p>Once all of the above steps have been completed, the GeoWave standalone installers can be built using the following Maven command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ mvn package -pl deploy -P build-installer-main -Dinstall4j.home=$INSTALL4J_HOME -DskipTests -Dfindbugs.skip -Dspotbugs.skip</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command expects an environment variable <code>$INSTALL4J_HOME</code> that points to the root directory of the Install4J installation.  Once the command is complete, standalone installers for Linux, Mac, and Windows will be available in the <code>deploy/target/install4j-output</code> directory.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="how-to-contribute"><a class="anchor" href="#how-to-contribute"></a>How to Contribute</h2>
<div class="sectionbody">
<div class="paragraph">
<p>GeoWave is an open source project and we welcome contributions from the community.</p>
</div>
<div class="sect2">
<h3 id="pull-requests"><a class="anchor" href="#pull-requests"></a>Pull Requests</h3>
<div class="paragraph">
<p>Pull requests must be done though a forked repository.</p>
</div>
<div class="paragraph">
<p>To create a new fork, just click the the "Fork" button at the top of the <a href="https://github.com/locationtech/geowave" target="_blank">GeoWave GitHub page</a>. You can now submit pull requests from your working branch on your fork directly to the <code>master</code> branch on the <code>locationtech</code> repository.</p>
</div>
<div class="paragraph">
<p>GeoWave uses a Maven plugin formatter to keep all of our code standardized. You should run a Maven install immediately prior to committing and pushing changes.</p>
</div>
<div class="paragraph">
<p>Prior to submitting a pull request, please squash down your commits into one. This will help keep our commit history clean and will cut down on "in progress commits" that don&#8217;t relay any helpful information in the future.</p>
</div>
<div class="paragraph">
<p>All contributors must sign the <a href="https://www.eclipse.org/legal/ecafaq.php" target="_blank">Eclipse Contributor Agreement</a> and sign off all commits by using the <code>--signoff</code> option of the commit command.</p>
</div>
<div class="paragraph">
<p>All pull request contributions to this project will be released under the Apache 2.0 license.</p>
</div>
<div class="paragraph">
<p>Software source code previously released under an open source license and then modified by NGA staff is considered a "joint work" (see <em>17 USC 101</em>); it is partially copyrighted, partially public domain, and as a whole is protected by the copyrights of the non-government authors and must be released according to the terms of the original open source license.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="architecture-2"><a class="anchor" href="#architecture-2"></a>Architecture</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="overview"><a class="anchor" href="#overview"></a>Overview</h3>
<div class="imageblock">
<div class="content">
<img src="./images/architecture_overview_dev.svg" alt="Architecture Overview" width="100%">
</div>
<div class="title">Figure 6. GeoWave Architecture Overview</div>
</div>
<div class="paragraph">
<p>The core of the GeoWave architecture concept is getting data in (<em>Ingest</em>), and pulling data out (<em>Query</em>). This is accomplished by using data adapters and indices. As discussed in the <a href="overview.html">GeoWave Overview</a>, data adapters describe the available fields in a data type and are used to transform data from the base type into a format that is optimized for GeoWave. An index is used to determine the organization and storage of the converted data so that it can be efficiently queried. There are two types of data persisted in the system: indexed data and metadata. Indexed data is the data (such as vector attributes and geometries) that has been converted to the GeoWave format by an adapter and stored using the index. Metadata contains all of the information about the state of the data store, such as the adapters, indices, and any statistics that have been created for a type. The intent is to store all of the information needed for data discovery and retrieval in the database. This means that an existing data store isn’t tied to a bit of configuration on a particular external server or client but instead is “self-describing.”</p>
</div>
</div>
<div class="sect2">
<h3 id="key-structure"><a class="anchor" href="#key-structure"></a>Key Structure</h3>
<div class="paragraph">
<p>The following diagram describes the default structure of indexed data in a GeoWave data store.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/keystructure.svg" alt="Key/Value Structure" width="100%">
</div>
<div class="title">Figure 7. Key/Value Structure</div>
</div>
<div class="paragraph">
<p>These structures are described by two interfaces: <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/entities/GeoWaveKey.java"><code>GeoWaveKey</code></a> and <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/entities/GeoWaveValue.java"><code>GeoWaveValue</code></a>. It is up to the data store implementation to determine how to use these structures to ultimately store GeoWave data, so the final structure may vary between implementations.</p>
</div>
<div class="sect3">
<h4 id="geowave-key"><a class="anchor" href="#geowave-key"></a>GeoWave Key</h4>
<div class="ulist">
<ul>
<li>
<p><em>Partition Key</em>: This key is derived from the partition strategy used by the index.  By default, no partitioning strategy is used and this portion of the key will be empty. GeoWave also provides round robin and hash-based partitioning strategies.</p>
</li>
<li>
<p><em>Sort Key</em>: This key is derived from the index strategy and is the main factor in determining the sort order of entries in the key/value store. In most cases this will be a result of the SFC implementation used by the index.</p>
</li>
<li>
<p><em>Internal Adapter ID</em>: This is a short which represents the adapter that the data belongs to. This internal ID is used instead of the full adapter name to save space. A mapping between internal adapter ID and adapter exists in the metadata tables of the GeoWave data store. This is encoded with variable length encoding.</p>
</li>
<li>
<p><em>Data ID</em>: An identifier for the data represented by this row. We do not impose a requirement that <em>Data IDs</em> are globally unique but they should be unique for the adapter. Therefore, the pairing of <em>Internal Adapter ID</em> and <em>Data ID</em> define a unique identifier for a data element. An example of a data ID for vector data would be the feature ID.</p>
</li>
<li>
<p><em>Data ID Length</em>: The length, in bytes, of the <em>Data ID</em>, encoded with variable length encoding.</p>
</li>
<li>
<p><em>Number of Duplicates</em>: The number of duplicates is stored to inform the de-duplication filter whether this element needs to be temporarily stored in order to ensure no duplicates are sent to the caller.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="geowave-value"><a class="anchor" href="#geowave-value"></a>GeoWave Value</h4>
<div class="ulist">
<ul>
<li>
<p><em>Field Mask</em>: This mask represents the set of fields from the data type that are visible in this row.</p>
</li>
<li>
<p><em>Visibility</em>: The visibility expression used by this row of data.  It is possible for a single data entry to have different visibility expressions on different attributes.  In this case, the entry will be split into multiple rows, with each row having a different <em>Visibility</em> and a <em>Field Mask</em> that indicates which fields are represented by that visibility expression.  The visibility of an entry is determined by passing the entry to a <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/api/VisibilityHandler.java"><code>VisibilityHandler</code></a>.  The handler that is used is generally set when a type is created, but can be overridden by passing a different handler when creating the writer.</p>
</li>
<li>
<p><em>Value</em>: The extended data of the entry.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="data-stores"><a class="anchor" href="#data-stores"></a>Data Stores</h3>
<div class="paragraph">
<p>GeoWave data stores are made up of several different components that each manage different aspects of the system, such as an adapter store, index store, statistics store, etc.  Most of the time, directly using these components should not be necessary as most GeoWave tasks can be accomplished through the use of the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/api/DataStore.java"><code>DataStore</code></a> interface.</p>
</div>
<div class="paragraph">
<p>Programmatically, data stores are accessed by using a <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/StoreFactoryOptions.java"><code>StoreFactoryOptions</code></a> implementation for the appropriate key/value store to configure a connection to that store.  Once configured with all of the necessary options, the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/api/DataStoreFactory.java"><code>DataStoreFactory</code></a> can be used to directly create a <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/api/DataStore.java"><code>DataStore</code></a> instance.</p>
</div>
<div class="paragraph">
<p>An instance of <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/cli/store/DataStorePluginOptions.java"><code>DataStorePluginOptions</code></a> can be also be created from the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/StoreFactoryOptions.java"><code>StoreFactoryOptions</code></a> if direct access to other parts of the data store is needed.</p>
</div>
<div class="paragraph">
<p>For an example of accessing a data store through the programmatic API, see the <a href="#creating-data-stores">Creating Data Stores</a> example.</p>
</div>
</div>
<div class="sect2">
<h3 id="indices"><a class="anchor" href="#indices"></a>Indices</h3>
<div class="paragraph">
<p>The way that GeoWave stores data in a way that makes it efficient to query is through the use of Indices.  As mentioned in the <a href="overview.html#indices">overview</a>, indices use a given set of dimensions to determine the order in which the data is stored. Indices are composed of two components: a common index model, and an index strategy.</p>
</div>
<div class="sect3">
<h4 id="common-index-model"><a class="anchor" href="#common-index-model"></a>Common Index Model</h4>
<div class="paragraph">
<p>The common index model defines the set numeric dimensions expected by an index.  For example, a spatial-temporal index might have 3 dimensions defined by the model: latitude, longitude, and time.  In order for data to be added to that index, it must supply all of the dimensions required by the model. The data adapter is responsible for associating attributes from the raw data type with the dimensions of the common index model.</p>
</div>
</div>
<div class="sect3">
<h4 id="index-strategies"><a class="anchor" href="#index-strategies"></a>Index Strategies</h4>
<div class="paragraph">
<p>An index strategy is what dictates how the dimensioned data from the index model are used to structure the data in the data store. When data is added to GeoWave, an index strategy is applied to determine the <em>Partition Key</em> and <em>Sort Key</em> of the data. Determining which index strategy to use is dependent on the nature of the data and the types of queries that will be performed.</p>
</div>
<div class="paragraph">
<p>While most GeoWave index strategies implement the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/index/src/main/java/org/locationtech/geowave/core/index/IndexStrategy.java"><code>IndexStrategy</code></a> interface, there are currently two main types of index strategies: sorted index strategies, and partition index strategies.  Sorted index strategies use one or more dimensions from the index model to sort the data in a predictable way.  Partition index strategies can be used to split data that would usually reside next to each other into separate partitions in order to reduce hotspotting during querying.</p>
</div>
</div>
<div class="sect3">
<h4 id="indexstrategy-hierarchy"><a class="anchor" href="#indexstrategy-hierarchy"></a>IndexStrategy Hierarchy</h4>
<div class="paragraph">
<p>The diagram below outlines the hierarchy of the various index strategies currently available within GeoWave.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/IndexStrategyHierarchy.svg" alt="IndexStrategy Hierarchy" width="100%">
</div>
<div class="title">Figure 8. IndexStrategy Hierarchy</div>
</div>
<div class="paragraph">
<div class="title">SortedIndexStrategy</div>
<p>Most of GeoWave&#8217;s index strategies are derived from <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/index/src/main/java/org/locationtech/geowave/core/index/NumericIndexStrategy.java"><code>NumericIndexStrategy</code></a>, which is the only <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/index/src/main/java/org/locationtech/geowave/core/index/SortedIndexStrategy.java"><code>SortedIndexStrategy</code></a> implementation included with GeoWave. The <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/index/src/main/java/org/locationtech/geowave/core/index/NumericIndexStrategy.java"><code>NumericIndexStrategy</code></a> also implements the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/index/src/main/java/org/locationtech/geowave/core/index/PartitionIndexStrategy.java"><code>PartitionIndexStrategy</code></a> interface so that any derived strategy can define its own partitioning methods. Any numeric index strategy can also be partitioned using one of the built-in <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/index/src/main/java/org/locationtech/geowave/core/index/PartitionIndexStrategy.java"><code>PartitionIndexStrategy</code></a> implementations by using a <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/index/src/main/java/org/locationtech/geowave/core/index/CompoundIndexStrategy.java"><code>CompoundIndexStrategy</code></a> which wraps a <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/index/src/main/java/org/locationtech/geowave/core/index/NumericIndexStrategy.java"><code>NumericIndexStrategy</code></a> and a <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/index/src/main/java/org/locationtech/geowave/core/index/PartitionIndexStrategy.java"><code>PartitionIndexStrategy</code></a> into a single strategy.  The <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/index/src/main/java/org/locationtech/geowave/core/index/HierarchicalNumericIndexStrategy.java"><code>HierarchicalNumericIndexStrategy</code></a> implementations are where most of the built-in spatial and spatial-temporal indexing is done. See the <a href="#theory">Theory</a> section for more information about how GeoWave hierarchical indexing works.</p>
</div>
<div class="paragraph">
<div class="title">PartitionIndexStrategy</div>
<p>There are two built-in <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/index/src/main/java/org/locationtech/geowave/core/index/PartitionIndexStrategy.java"><code>PartitionIndexStrategy</code></a> implementations.  The round robin partition index strategy evenly distributes data to one of <em>N</em> partitions in a round robin fashion, i.e. every successive row goes to the next successive partition until the last partition is reached, at which point the next row will go to the first partition and the process repeats.  The hash partition index strategy assigns each row a partition based on the hash of dimensional data. This should also result in a fairly even row distribution. Unlike the round robin strategy, the hash strategy is deterministic. This means that the partition that a row will go to will not change based on the order of the data.</p>
</div>
<div class="paragraph">
<p>If there is no suitable index strategy implementation for a given use case, one can be developed using any of the built-in strategies as a reference.</p>
</div>
</div>
<div class="sect3">
<h4 id="custom-indices"><a class="anchor" href="#custom-indices"></a>Custom Indices</h4>
<div class="paragraph">
<p>If more direct control of an index is required, a custom index can be created by implementing the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/index/CustomIndexStrategy.java"><code>CustomIndexStrategy</code></a> interface.  This interface is the most straightforward mechanism to add custom indexing of any arbitrary logic to a GeoWave data store. It is made up of two functions that tell GeoWave how to index an entry on ingest and how to query the index based on a custom constraints type.  The interface has two generics that should be supplied with the implementation.  The first is the entry type, such as <code>SimpleFeature</code>, <code>GridCoverage</code>, etc.  The second is the constraints type, which can be anything, but should implement the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/index/src/main/java/org/locationtech/geowave/core/index/persist/Persistable.java"><code>Persistable</code></a> interface so that it can work outside of client code.  The constraints type is a class that is used by the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/index/CustomIndexStrategy.java"><code>CustomIndexStrategy</code></a> implementation to generate a set of query ranges for the index based on some arbitrary constraint.</p>
</div>
<div class="paragraph">
<p>Once a <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/index/CustomIndexStrategy.java"><code>CustomIndexStrategy</code></a> implementation has been created, an index can be created by instantiating a <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/index/CustomIndex.java"><code>CustomIndex</code></a> object with the custom index strategy and an index name.  An example implementation of a custom index is available in the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/examples/java-api/src/main/java/org/locationtech/geowave/examples/index/CustomIndexExample.java"><code>geowave-example</code></a> project.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Custom indices are different from other GeoWave indices in that they do not conform to the marriage of a common index model and an index strategy.  Because custom indices provide direct control over the indexing of data, it is up to the developer to decide how the indexing should work.  Because of this, it is important to note that the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/index/CustomIndexStrategy.java"><code>CustomIndexStrategy</code></a> interface has no relation to the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/index/src/main/java/org/locationtech/geowave/core/index/IndexStrategy.java"><code>IndexStrategy</code></a> interface used by the core GeoWave indices.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="secondary-indexing"><a class="anchor" href="#secondary-indexing"></a>Secondary Indexing</h4>
<div class="paragraph">
<p>When secondary indexing is enabled on a data store, all data is written to a <code>DATA_ID</code> index in which the key is a unique data ID.  Indices on that data store will then use this data ID as the value instead of the encoded data.  This can be useful to avoid excessive duplication of encoded data in cases where there are many indices on the same dataset.  The drawback for secondary indexing is that when data needs to be decoded, GeoWave has to do a second lookup to pull the data out of the <code>DATA_ID</code> index.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="adapters"><a class="anchor" href="#adapters"></a>Adapters</h3>
<div class="paragraph">
<p>In order to store geometry, attributes, and other information, input data must be converted to a format that is optimized for data discovery. GeoWave provides a <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/api/DataTypeAdapter.java"><code>DataTypeAdapter</code></a> interface that handles this conversion process. Implementations that support GeoTools simple feature types as well as raster data are included. When a data adapter is used to ingest data, the adapter and its parameters are persisted as metadata in the GeoWave data store. When the type is queried, the adapter is loaded dynamically in order to translate the GeoWave data back into its native form.</p>
</div>
<div class="sect3">
<h4 id="feature-serialization"><a class="anchor" href="#feature-serialization"></a>Feature Serialization</h4>
<div class="imageblock">
<div class="content">
<img src="./images/serialization1.svg" alt="Feature Serialization" width="100%">
</div>
<div class="title">Figure 9. Feature Serialization</div>
</div>
<div class="paragraph">
<p>GeoWave allows developers to create their own data adapters. Adapters not only dictate how the data is serialized and deserialized, but also which attributes should be used for a given index. GeoWave&#8217;s goal is to minimize the code and make the querying logic as simple as possible. This conflicts with the desire to allow maximum flexibility with arbitrary data adapters. To solve this, data from an adapter is split between common index data and extended data.  Common index data are non-null numeric fields that are used by the index.  They can also be used in server-side filtering during a query without having to decode the entire entry. Extended data is all of the remaining data needed to convert the entry back into its native form. Any filtering that needs to be done on this extended data would require that the entry be decoded back into its native form.  This would be done client-side and would have a significant impact on query performance.</p>
</div>
</div>
<div class="sect3">
<h4 id="common-index-data"><a class="anchor" href="#common-index-data"></a>Common Index Data</h4>
<div class="paragraph">
<p>Common index data are the fields used by the index to determine how the data should be organized. The adapter determines these fields from the <em>common index model</em> that is provided by the index when data is encoded. Common index data fields will typically be geometry coordinates and optionally time, but could be any set of numeric values. These fields are used for fine-grained filtering when performing a query. <strong>Common index data <em>cannot</em> be null.</strong></p>
</div>
</div>
<div class="sect3">
<h4 id="extended-data"><a class="anchor" href="#extended-data"></a>Extended Data</h4>
<div class="paragraph">
<p>Extended data is all of the remaining data needed to convert the entry back into its native form. Any filtering that needs to be done on this extended data would require that the entry be decoded back into its native form.  This would be done client-side and would have a significant impact on query performance. The data adapter must provide methods to serialize and deserialize these items in the form of field readers and field writers. As this data is only deserialized client-side, the readers and writers do not need to be present on the server-side classpath.</p>
</div>
</div>
<div class="sect3">
<h4 id="field-writers-readers"><a class="anchor" href="#field-writers-readers"></a>Field Writers/Readers</h4>
<div class="paragraph">
<p>Field readers and writers are used by data adapters to tell GeoWave how to serialize and deserialize data of a given type. GeoWave provides a basic implementation for the following attribute types in both singular and array form:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 14%;">
<col style="width: 14%;">
<col style="width: 14%;">
<col style="width: 14%;">
<col style="width: 14%;">
<col style="width: 14%;">
<col style="width: 14%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Byte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Short</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Float</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BigDecimal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BigInteger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Geometry</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Calendar</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Field readers must implement the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/data/field/FieldReader.java"><code>FieldReader</code></a> interface, and field writers must implement the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/data/field/FieldWriter.java"><code>FieldWriter</code></a> interface.</p>
</div>
</div>
<div class="sect3">
<h4 id="internal-adapter-id"><a class="anchor" href="#internal-adapter-id"></a>Internal Adapter ID</h4>
<div class="paragraph">
<p>Most public interfaces and tools reference adapters by their name, however, it would be redundant to include this full name in every row of the database.  GeoWave reduces this memory impact by mapping each adapter to an 2 byte (short) internal adapter ID.  This mapping is stored in a metadata table and can be looked up using the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/adapter/InternalAdapterStore.java"><code>InternalAdapterStore</code></a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="statistics-2"><a class="anchor" href="#statistics-2"></a>Statistics</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="overview-2"><a class="anchor" href="#overview-2"></a>Overview</h3>
<div class="paragraph">
<p>GeoWave statistics are stored as metadata and can be queried for aggregated information about a particular data type, field, or index. Statistics retain the same visibility constraints as the data they are associated with. For example, let&#8217;s say there is an data type that has several rows with a visibility expression of <code>A&amp;B</code>, and several more rows with a visibility expression of <code>A&amp;C</code>.  If there was count statistic on this data, then there would be two rows in the statistics table, one for the number of rows with the <code>A&amp;B</code> visibility, and another for the number of rows with the <code>A&amp;C</code> visibility.</p>
</div>
</div>
<div class="sect2">
<h3 id="statistic-types"><a class="anchor" href="#statistic-types"></a>Statistic Types</h3>
<div class="paragraph">
<p>There are three different types of statistics, each of which extend from a different base statistic class.</p>
</div>
<div class="sect3">
<h4 id="index-statistics"><a class="anchor" href="#index-statistics"></a>Index Statistics</h4>
<div class="paragraph">
<p>Index statistics are statistics that are tracked for all rows in a given GeoWave index.  They derive from <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/statistics/index/IndexStatistic.java"><code>IndexStatistic</code></a> and include an option that specifies the index name that the statistic belongs to.  These statistics are usually quite broad as they cannot make assumptions about the data types that are included in the index.  Some examples of index statistics are row range histograms, index metadata, and duplicate entry counts.  Many of these statistics are binned using the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/statistics/binning/DataTypeBinningStrategy.java"><code>DataTypeBinningStrategy</code></a> so that information about any of these statistics can be queried on a per-data-type basis if needed.</p>
</div>
</div>
<div class="sect3">
<h4 id="data-type-statistics"><a class="anchor" href="#data-type-statistics"></a>Data Type Statistics</h4>
<div class="paragraph">
<p>Data type statistics are statistics that are tracked for all rows for a given data type.  They derive from <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/statistics/adapter/DataTypeStatistic.java"><code>DataTypeStatistic</code></a> and include an option that specifies the data type name that the statistic belongs to.  The main example of this type is the count statistic, which simply counts the number of entries in a given data type.</p>
</div>
</div>
<div class="sect3">
<h4 id="field-statistics"><a class="anchor" href="#field-statistics"></a>Field Statistics</h4>
<div class="paragraph">
<p>Field statistics are statistics that are tracked for a given field of a single data type.  They derive from <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/statistics/field/FieldStatistic.java"><code>FieldStatistic</code></a> and include options for both the data type name and the field name to use.  Each field statistic includes a method that determines whether or not it is compatible with the java class of a given field.  For example, a numeric mean statistic only supports fields that derive from <code>Number</code> so that it can calculate the mean value of the field over the entire data set.  This compatibility check allows statistics to be implemented and re-used across all data types that use the same field class.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="binning-strategies"><a class="anchor" href="#binning-strategies"></a>Binning Strategies</h3>
<div class="paragraph">
<p>Sometimes it is desirable to split up a statistic into several bins using some arbitrary method.  Each bin is identified by a unique byte array and contains its own statistic value for all rows that fall into it.  GeoWave includes a few binning strategies that cover a majority of simple use cases.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>DataTypeBinningStrategy</em>: The <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/statistics/binning/DataTypeBinningStrategy.java"><code>DataTypeBinningStrategy</code></a> is a binning strategy that can be used on index statistics to create a separate bin for each data type in the index.</p>
</li>
<li>
<p><em>PartitionBinningStrategy</em>: The <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/statistics/binning/PartitionBinningStrategy.java"><code>PartitionBinningStrategy</code></a> is a binning strategy that is generally only used by internal statistics that creates a separate bin for each partition that the data resides on.</p>
</li>
<li>
<p><em>FieldValueBinningStrategy</em>: The <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/statistics/binning/FieldValueBinningStrategy.java"><code>FieldValueBinningStrategy</code></a> is a binning strategy that can be used on any statistic to create a separate bin for each unique value of a given field or set of fields.  For example, if a data type had a <code>CountryCode</code> field, this binning strategy could be used on a <code>COUNT</code> statistic to count the number of entries for each unique <code>CountryCode</code> value.  If a data type had both <code>Shape</code> and <code>Color</code> fields, this strategy could be used to combine both to count the number of entries for each <code>Shape</code>/<code>Color</code> combination.</p>
</li>
<li>
<p><em>NumericRangeFieldValueBinningStrategy</em>: The <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/statistics/binning/NumericRangeFieldValueBinningStrategy.java"><code>NumericRangeFieldValueBinningStrategy</code></a> is a binning strategy that can be used on any statistic to create a separate bin for defined ranges of a given numeric field or set of fields.  For example, if a data type had a numeric <code>Angle</code> field, this binning strategy could be used on a <code>COUNT</code> statistic to count the number of entries in each angle range defined by a user-supplied interval.  Like the <code>FieldValueBinningStrategy</code>, this strategy can be used with multiple numeric fields.</p>
</li>
<li>
<p><em>TimeRangeFieldValueBinningStrategy</em>: The <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/geotime/src/main/java/org/locationtech/geowave/core/geotime/store/statistics/binning/TimeRangeFieldValueBinningStrategy.java"><code>TimeRangeFieldValueBinningStrategy</code></a> is a binning strategy that can be used on any statistic to create a separate bin for defined ranges of a given temporal field or set of fields.  For example, if a data type had a time field called <code>StartTime</code>, this binning strategy could be used on a <code>COUNT</code> statistic to count the number of entries in each year, month, week, day, hour, or minute defined by the <code>StartTime</code> of the entry.  Like the <code>FieldValueBinningStrategy</code>, this strategy can be used with multiple temporal fields.</p>
</li>
<li>
<p><em>CompositeBinningStrategy</em>: The <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/statistics/binning/CompositeBinningStrategy.java"><code>CompositeBinningStrategy</code></a> allows two binning strategies to be combined.  This strategy can be used when a single binning strategy is not sufficient to split the statistic in the desired way.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In order to provide as much flexibility as possible to developers, the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/api/StatisticBinningStrategy.java"><code>StatisticBinningStrategy</code></a> interface has been made available so that new binning strategies can be added as the need arises.  This is described in more detail below.</p>
</div>
</div>
<div class="sect2">
<h3 id="table-structure"><a class="anchor" href="#table-structure"></a>Table Structure</h3>
<div class="paragraph">
<p>Statistics are composed of two different types of objects that are stored within the GeoWave metadata tables: statistics and the statistic values.</p>
</div>
<div class="paragraph">
<p>The statistic table contains all of the tracked statistics for the data store.  Each row of this table describes one statistic and contains all of the information needed to properly calculate the statistic as data is ingested and deleted.</p>
</div>
<div class="paragraph">
<p>The following diagram describes the default structure of a statistic in a GeoWave data store.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/stats.svg" alt="Statistics Structure" width="100%">
</div>
<div class="title">Figure 10. Statistics Structure</div>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Unique ID</em>: A unique identifier for the statistic within a given statistic group.  The unique identifier is composed of the statistic type, a field name (for field statistics), and a tag.  Different statistic groups can have a statistic with the same unique identifier.  For example, two different data types could have a <code>COUNT</code> statistic with a tag of <code>internal</code> because they are in different statistic groups.</p>
</li>
<li>
<p><em>Group ID</em>:  The group that the statistic belongs to.  This identifier is composed of a type specifier and a group, which can vary based on the type of statistic.  The type specifier is a single byte that indicates if the statistic is an index statistic, a data type statistic, or a field statistic.  The group is the index or type name that the statistic is associated with.</p>
</li>
<li>
<p><em>Serialized Statistic</em>: All information needed to calculate the statistic when data is ingested or deleted.  This includes any binning strategies or other options used by the statistic.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The values of these statistics are stored separately as GeoWave metadata with a similar structure.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/stat_values.svg" alt="Statistic Value Structure" width="100%">
</div>
<div class="title">Figure 11. Statistic Value Structure</div>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Statistic Unique ID</em>: The unique ID of the underlying statistic.</p>
</li>
<li>
<p><em>Bin</em>: The bin for the statistic, if the statistic uses a binning strategy.</p>
</li>
<li>
<p><em>Statistic Group ID</em>: The group ID of the underlying statistic.</p>
</li>
<li>
<p><em>Visibility</em>: The visibility expression represented by this statistic value.  It is possible for a dataset to have different visibility expressions on different rows.  In this case, there will be a separate statistic value for each unique visibility expression.</p>
</li>
<li>
<p><em>Statistic Value</em>: The serialized value for this bin.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="getting-statistic-values"><a class="anchor" href="#getting-statistic-values"></a>Getting Statistic Values</h3>
<div class="paragraph">
<p>There are two primary ways to get the value of a given statistic.  The first and easiest way is to use the <code>Statistic</code> object itself as a parameter to <code>getStatisticValue</code> or <code>getBinnedStatisticValues</code> on the <code>DataStore</code> interface.  If the statistic uses a binning strategy, a set of bin constraints can also be supplied to filter down the bins that are returned by the query.  Each binning strategy supports different types of constraints, which can be discovered through the <code>supportedConstraintClasses</code> method.  These constraint classes can be converted into bin constraints by passing them to the <code>constraints</code> method on the binning strategy.  For example, <code>TimeRangeFieldValueBinningStrategy</code> supports <code>Interval</code> as a constraint class.  All bins within a given time interval could be queried by passing the result of <code>constraints(interval)</code> to the <code>getStatisticValue</code> method on the <code>DataStore</code>.  These methods do not take visibility of rows into account and will get the values for all visibilities by default.</p>
</div>
<div class="paragraph">
<p>The second way statistic values can be retrieved is to query the statistic by using a <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/api/StatisticQueryBuilder.java"><code>StatisticQueryBuilder</code></a>.  A query builder of the appropriate type can be obtained by calling one of the <code>newBuilder</code> static methods on <code>StatisticQueryBuilder</code> with the <code>StatisticType</code> to query.  Once all of the query parameters and optional constraints have been set and the query is built, the resulting <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/api/StatisticQuery.java"><code>StatisticQuery</code></a> object can then be passed to the <code>queryStatistics</code> or <code>aggregateStatistics</code> functions of the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/api/DataStore.java"><code>DataStore</code></a>.  Each of these functions performs the same query, but outputs different values. The <code>queryStatistics</code> function will return one <code>StatisticValue</code> instance for every bin for each statistic that matched the query parameters, while the <code>aggregateStatistics</code> function will merge all of those values down to a single <code>StatisticValue</code> instance.  A statistic query allows you to provide authorizations if the result should be filtered by visibility.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When querying statistics with varying visibilities, GeoWave will merge all statistics that match the provided authorizations.  Using the following example, providing no authorizations would return a count of <em>0</em>, providing <code>A</code> and <code>B</code> authorizations would return the number of rows with the <code>A&amp;B</code> visibility expression.  Providing <code>A</code>, <code>B</code>, and <code>C</code> authorizations would result in a statistics merge and the result would be the combined count of both rows.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/stat_merge.svg" alt="Statistics Merge" width="100%">
</div>
<div class="title">Figure 12. Statistics Merge</div>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="implementing-new-statistics-and-binning-strategies"><a class="anchor" href="#implementing-new-statistics-and-binning-strategies"></a>Implementing New Statistics and Binning Strategies</h3>
<div class="paragraph">
<p>New statistics can be implemented by extending the appropriate statistic type (<a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/statistics/index/IndexStatistic.java"><code>IndexStatistic</code></a>, <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/statistics/adapter/DataTypeStatistic.java"><code>DataTypeStatistic</code></a>, or <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/statistics/field/FieldStatistic.java"><code>FieldStatistic</code></a>) and implementing a corresponding <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/api/StatisticValue.java"><code>StatisticValue</code></a>.  It is recommended that a public static <code>STATS_TYPE</code> variable be made available to make the <code>StatisticType</code> of the statistic readily available to users.</p>
</div>
<div class="paragraph">
<p>New binning strategies can also be added by implementing the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/api/StatisticBinningStrategy.java"><code>StatisticBinningStrategy</code></a> interface.  The binning strategy can use information from the <code>DataTypeAdapter</code>, the raw entry, and the <code>GeoWaveRow</code>(s) that the entry was serialized to in order to determine the bin that should be used.  It is also recommended to provide some level of support for constraints that would be relevant to the binning strategy to make it easier for end users to constrain statistics queries.</p>
</div>
<div class="paragraph">
<p>All statistics and binning strategies are discovered by GeoWave using Service Provider Interfaces (SPI). In order to add new statistics and binning strategies, extend the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/statistics/StatisticsRegistrySPI.java"><code>StatisticsRegistrySPI</code></a> and make sure the JAR containing both the registry and the statistic/statistic value classes are on the classpath when running GeoWave. For more information on using SPI, see the <a href="https://docs.oracle.com/javase/tutorial/sound/SPI-intro.html" target="_blank">Oracle documentation</a>.</p>
</div>
<div class="paragraph">
<p>An example that shows how to add a word count statistic is available in the <a href="https://github.com/locationtech/geowave/tree/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/examples/java-api/src/main/java/org/locationtech/geowave/examples/stats">GeoWave examples project</a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ingest-2"><a class="anchor" href="#ingest-2"></a>Ingest</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="overview-3"><a class="anchor" href="#overview-3"></a>Overview</h3>
<div class="paragraph">
<p>In addition to the raw data, the ingest process requires an adapter to translate the native data into a format that can be persisted into the data store, and an index to dictate how the ingested data should be organized.  The following diagram shows an overview of the ingest process:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/ingest.svg" alt="Ingest Architecture" width="100%">
</div>
<div class="title">Figure 13. Ingest Architecture</div>
</div>
<div class="paragraph">
<p>The logic within the ingest process immediately ensures that the index and data adapter are persisted as metadata within the index and adapter stores to support self-described data discovery. In-memory implementations of both of these stores are provided for cases when connections to third-party data stores (e.g., Accumulo, HBase) are undesirable in the ingest process, such as ingesting bulk data in a MapReduce job. Once the adapter and index have been persisted, each data entry gets processed by the adapter to encode the data to a format that&#8217;s optimized for GeoWave, and by the index to determine where the data should be stored.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Certain circumstances will cause the same data to be written to the data store in multiple locations, e.g., polygons that cross the dateline or date ranges that cross binning boundaries such as December 31-January 1 when binning by year. To remedy this, deduplication is always performed as a client filter when querying the data.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Once the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/entities/GeoWaveKey.java"><code>GeoWaveKey</code></a> and <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/entities/GeoWaveValue.java"><code>GeoWaveValue</code></a> are created for an entry, they are combined into a <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/entities/GeoWaveRow.java"><code>GeoWaveRow</code></a> and sent to the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/operations/RowWriter.java"><code>RowWriter</code></a> implementation to be written to the data store.</p>
</div>
<div class="paragraph">
<p>The full list of GeoWave ingest commands can be found in the <a href="commands.html#ingest-commands" target="_blank">GeoWave CLI Documentation</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="ingest-plugins"><a class="anchor" href="#ingest-plugins"></a>Ingest Plugins</h3>
<div class="paragraph">
<p>Ingest plugins contain everything that is needed to convert raw data files into a format that is understood by a GeoWave data adapter. Ingest plugins <em>hook</em> into the ingest framework and are decoupled from the data store and index implementations.</p>
</div>
<div class="sect3">
<h4 id="source-formats"><a class="anchor" href="#source-formats"></a>Source Formats</h4>
<div class="paragraph">
<p>Leveraging the GeoTools infrastructure, GeoWave supports ingesting any DataSource that GeoTools supports.  Currently supported data types include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>arcgrid</p>
</li>
<li>
<p>arcsde</p>
</li>
<li>
<p>db2</p>
</li>
<li>
<p>raster formats</p>
<div class="ulist">
<ul>
<li>
<p>geotiff</p>
</li>
<li>
<p>grassraster</p>
</li>
<li>
<p>gtopo30</p>
</li>
<li>
<p>imageio-ext-gdal</p>
</li>
<li>
<p>imagemoasaic</p>
</li>
<li>
<p>imagepyramid</p>
</li>
<li>
<p>JP2K</p>
</li>
</ul>
</div>
</li>
<li>
<p>Database “jdgc-ng” support</p>
<div class="ulist">
<ul>
<li>
<p>h2</p>
</li>
<li>
<p>mysql</p>
</li>
<li>
<p>oracle</p>
</li>
<li>
<p>postgis</p>
</li>
<li>
<p>spatialite</p>
</li>
<li>
<p>sqlserver</p>
</li>
</ul>
</div>
</li>
<li>
<p>postgis</p>
</li>
<li>
<p>property file</p>
</li>
<li>
<p>shapefile</p>
</li>
<li>
<p>dfs</p>
</li>
<li>
<p>edigeo</p>
</li>
<li>
<p>geojson</p>
</li>
<li>
<p>wfs</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For a current list of supported formats, refer to the <a href="http://docs.geotools.org/stable/userguide/faq.html" target="_blank">GeoTools User Guide</a>. Reference the version of GeoTools that GeoWave was built against (currently 20.0).</p>
</div>
</div>
<div class="sect3">
<h4 id="adding-new-plugins"><a class="anchor" href="#adding-new-plugins"></a>Adding New Plugins</h4>
<div class="paragraph">
<p>For raw data input formats that aren&#8217;t supported by GeoWave directly, new ingest plugins can be written and installed to enable those unsupported formats to be ingested.  The simplest way to create a new ingest plugin is to extend the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/extensions/adapters/vector/src/main/java/org/locationtech/geowave/adapter/vector/ingest/MinimalSimpleFeatureIngestFormat.java"><code>MinimalSimpleFeatureIngestFormat</code></a> and <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/extensions/adapters/vector/src/main/java/org/locationtech/geowave/adapter/vector/ingest/MinimalSimpleFeatureIngestPlugin.java"><code>MinimalSimpleFeatureIngestPlugin</code></a> classes.  These classes ask a user to define a schema for their data as a <code>SimpleFeatureType</code> and read data from a URL as <code>SimpleFeatures</code>.  With this information, GeoWave can handle the rest of the ingest process.  Once registered via SPI, the custom format will be able to be used to ingest files of the custom format via the CLI or programmatically.  An example implementation of a minimal ingest plugin is available in the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/examples/java-api/src/main/java/org/locationtech/geowave/examples/ingest/plugin/CustomIngestPluginExample.java"><code>geowave-example</code></a> project.</p>
</div>
<div class="paragraph">
<p>Sometimes it becomes necessary to have more control over the ingest process, such as allowing features to be ingested from an optimized Avro format or via mapreduce.  In this case there are additional options for implementing ingest plugins.  For vector data, GeoWave expects plugins to convert the source data into GeoTools <code>SimpleFeature</code> objects. For raster data it expects GeoTools <code>GridCoverage</code> objects. Additionally, a data format can supply a translation from a file to any custom schema, which can then be used as an intermediate format to support distributed ingest. For example, all built-in vector ingest plugins derive from <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/extensions/adapters/vector/src/main/java/org/locationtech/geowave/adapter/vector/ingest/AbstractSimpleFeatureIngestPlugin.java"><code>AbstractSimpleFeatureIngestPlugin</code></a> which itself implements <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/ingest/src/main/java/org/locationtech/geowave/core/ingest/avro/GeoWaveAvroFormatPlugin.java"><code>GeoWaveAvroFormatPlugin</code></a>. This allows the data to be converted into an intermediate Avro format, which can then be ingested in a distributed fashion.</p>
</div>
<div class="paragraph">
<p>New vector ingest plugins should extend the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/extensions/adapters/vector/src/main/java/org/locationtech/geowave/adapter/vector/ingest/AbstractSimpleFeatureIngestPlugin.java"><code>AbstractSimpleFeatureIngestPlugin</code></a> class. See the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/extensions/formats/geotools-raster/src/main/java/org/locationtech/geowave/format/geotools/raster/GeoToolsRasterDataStoreIngestPlugin.java"><code>GeoToolsRasterDataStoreIngestPlugin</code></a> for an example of a plugin that ingests raster data.</p>
</div>
<div class="paragraph">
<p>Any of our extensions/formats projects are good examples for supporting new formats that can be discovered at runtime, such as the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/extensions/formats/avro/src/main/java/org/locationtech/geowave/format/avro/GeoWaveAvroIngestPlugin.java"><code>GeoWaveAvroIngestPlugin</code></a>, or any of the other existing ingest plugins, such as those listed in the <a href="https://github.com/locationtech/geowave/tree/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/extensions/formats"><code>extensions/formats</code></a> directory.</p>
</div>
<div class="paragraph">
<p>New ingest formats are discovered using Service Provider Interface (SPI)-based injection. In order to install a new ingest format, implement <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/ingest/src/main/java/org/locationtech/geowave/core/ingest/spi/IngestFormatPluginProviderSpi.java"><code>IngestFormatPluginProviderSpi</code></a> and make sure your JAR is on the classpath when running GeoWave. For more information on using SPI, see the <a href="https://docs.oracle.com/javase/tutorial/sound/SPI-intro.html" target="_blank">Oracle documentation</a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="query-2"><a class="anchor" href="#query-2"></a>Query</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A query in GeoWave is composed of a set of filters and index constraints. Index constraints are the portions of the query filter that affect the index dimensions. For example, the geometry from a spatial filter can be used as index constraints when querying a spatial index.</p>
</div>
<div class="sect2">
<h3 id="query-overview"><a class="anchor" href="#query-overview"></a>Overview</h3>
<div class="imageblock">
<div class="content">
<img src="./images/query.svg" alt="Query Architecture" width="100%">
</div>
<div class="title">Figure 14. Query Architecture</div>
</div>
<div class="paragraph">
<p>When a query is performed, GeoWave extracts index constraints from the provided query filter.  These index constraints are then decomposed into a set of range queries according to the index strategy that is used by the index.  See the <a href="#theory">Theory</a> section for information about how ranges are decomposed for multi-dimensional data.  These range queries represent the coarse grain filtering of the query.</p>
</div>
<div class="paragraph">
<p>The query filter is broken down into two types of filters: distributable and client. Distributable filters are filters that operate on the common index data while client filters are filters that operate on the extended data of the feature. Distributable filters are serialized and sent to the data store in order to filter the results of the range queries server-side. An example of a distributable filter is a geometry filter.  The index constraints extracted from the geometry filter are generally loser than the actual geometry to simplify the number of range queries that need to be performed. Because of this, results from the range queries must pass through the actual geometry filter to remove any entries that do not match exactly.</p>
</div>
<div class="paragraph">
<p>All results that pass the distributable filters are then returned to the client which decodes each entry using the data adapter and discards any entries that do not pass the remaining client filters.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Currently only HBase and Accumulo data stores support distributable filters. All other data store types will perform all filtering on the client.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="query-builders"><a class="anchor" href="#query-builders"></a>Query Builders</h3>
<div class="paragraph">
<p>Queries are created in GeoWave through the use of query builders. These builders are used to set all the things needed to create a query, such as the type names, indices, authorizations, and query constraints. While the base <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/api/QueryBuilder.java"><code>QueryBuilder</code></a> can be used as a general way to query data, GeoWave also provides an implementation of the query builder that is specific to vector queries with the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/geotime/src/main/java/org/locationtech/geowave/core/geotime/store/query/api/VectorQueryBuilder.java"><code>VectorQueryBuilder</code></a>. It also provides a query builder for vector aggregation queries with the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/geotime/src/main/java/org/locationtech/geowave/core/geotime/store/query/api/VectorAggregationQueryBuilder.java"><code>VectorAggregationQueryBuilder</code></a>. These vector query builders provide a constraints factory that has additional constraints that are specific to vector queries, such as CQL filters.  See the <a href="#querying-data">programmatic API examples</a> for examples of these query builders in action.</p>
</div>
</div>
<div class="sect2">
<h3 id="filter-expressions"><a class="anchor" href="#filter-expressions"></a>Filter Expressions</h3>
<div class="paragraph">
<p>Queries can also be filtered and constrained using a GeoWave filter expression.  The easiest way to do this is to create an appropriate <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/query/filter/expression/FieldValue.java"><code>FieldValue</code></a> expression based on the field you wish to constrain.  GeoWave provides commonly used expressions and predicates for spatial, temporal, numeric, and text field values.  Expressions can also be combined to create more complex query filters. Additionally, if no index name is provided to the query builder when using a filter expression, GeoWave will infer the best index based on the fields that are constrained by the filter.  The following is an example of a query that uses a GeoWave filter expression:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">Query&lt;SimpleFeature&gt; query =
    QueryBuilder.newBuilder(SimpleFeature.class)
                .addTypeName("myType")
                .filter(SpatialFieldValue.of("geom")
                          .bbox(0.5, 30.5, 0.5, 30.5)
                          .and(TemporalFieldValue.of("timestamp")
                                 .isBefore(new Date())))
                .build();</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
When queries are made to a GeoWave data store through GeoServer, GeoWave attempts to convert the provided CQL filter to a GeoWave filter expression for optimal index selection and performance.  If the expression cannot be converted exactly, it will fall back to a standard CQL query filter.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="contextual-query-language-cql"><a class="anchor" href="#contextual-query-language-cql"></a>Contextual Query Language (CQL)</h3>
<div class="paragraph">
<p>Another common way of filtering vector data in a query is by using CQL, also known as Common Query Language. CQL makes query filters more human readable and understandable while still maintaining the complexity that is often necessary. The constraints factory that is provided by the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/geotime/src/main/java/org/locationtech/geowave/core/geotime/store/query/api/VectorQueryBuilder.java"><code>VectorQueryBuilder</code></a> contains a helper function for creating query constraints using a CQL expression. CQL query constraints are used through the programmatic API, the GeoServer plugin, and through the GeoWave Query Lanaguage.  CQL query filters are less efficient that GeoWave filter expressions, but can be useful if one of the needed capabilities are not yet implemented by the GeoWave filter expressions.  For an overview on using CQL, please refer to the <a href="http://docs.geoserver.org/latest/en/user/tutorials/cql/cql_tutorial.html" target="_blank">GeoServer tutorials</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="geowave-query-language-gwql"><a class="anchor" href="#geowave-query-language-gwql"></a>GeoWave Query Language (GWQL)</h3>
<div class="paragraph">
<p>In order to simplify queries, GeoWave provides a simple query language that is roughly based on SQL. This is discussed in the <a href="userguide.html#queries" target="_blank">User Guide</a>.  While the user guide discusses the language from the context of the CLI, it is also possible to execute these queries programmatically through the <code>DataStore</code> interface.  For example, the following statement would execute an everything query on the <code>countries</code> type in the <code>example</code> data store:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">try(final ResultSet results = dataStore.query("SELECT * FROM countries")) {
	while (results.hasNext()) {
		final Result result = results.next();
		// Do something with the result
	}
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Querying GeoWave using the GeoWave Query Language will return results in the form of a <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/query/gwql/ResultSet.java"><code>ResultSet</code></a>, which is less like the results that would be obtained from a standard GeoWave query (e.g. <code>SimpleFeatures</code>) and more like the results that you would expect from querying a relational database (Rows) in that only the fields and aggregations included in the <code>SELECT</code> statement will be returned.</p>
</div>
<div class="sect3">
<h4 id="output-formats"><a class="anchor" href="#output-formats"></a>Output Formats</h4>
<div class="paragraph">
<p>New output formats for the CLI query command are discovered using Service Provider Interface (SPI)-based injection. In order to install a new output format, implement <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/cli/query/QueryOutputFormatSpi.java"><code>QueryOutputFormatSpi</code></a> and make sure your JAR is on the classpath when running GeoWave. For more information on using SPI, see the <a href="https://docs.oracle.com/javase/tutorial/sound/SPI-intro.html" target="_blank">Oracle documentation</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="extending-gwql"><a class="anchor" href="#extending-gwql"></a>Extending GWQL</h4>
<div class="paragraph">
<p>New functionality can also be added to the query language using SPI. New aggregation functions, predicate functions, expression functions, and castable types can be added to the language by implementing the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/query/gwql/GWQLExtensionRegistrySpi.java"><code>GWQLExtensionRegistrySpi</code></a> interface.  Once this interface has been implemented, make sure the JAR containing the implementation is on the classpath when running GeoWave and that the class is registered in <code>META-INF/services</code>. For more information on using SPI, see the <a href="https://docs.oracle.com/javase/tutorial/sound/SPI-intro.html" target="_blank">Oracle documentation</a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="services"><a class="anchor" href="#services"></a>Services</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="grpc"><a class="anchor" href="#grpc"></a>gRPC</h3>
<div class="paragraph">
<p>GeoWave&#8217;s gRPC service provides a way for remote gRPC client applications to interact with GeoWave.</p>
</div>
<div class="sect3">
<h4 id="grpc-protobuf"><a class="anchor" href="#grpc-protobuf"></a>gRPC Protobuf</h4>
<div class="paragraph">
<p>During the build process, GeoWave auto-generates protobuf message files (<code>.proto</code>) for all GeoWave commands that derive from the abstract class <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/cli/src/main/java/org/locationtech/geowave/core/cli/api/ServiceEnabledCommand.java"><code>ServiceEnabledCommand</code></a>. The source for the generation process may be found in the  <code>geowave-grpc-protobuf-generator</code> project. The auto-generated protobuf files, as well as any manually-generated GeoWave protobuf files can be located in the <code>geowave-grpc-protobuf</code> project. The protobuf files are compiled to their respective Java classes by this project as well. For more details on protobuf, please refer to the <a href="https://developers.google.com/protocol-buffers/" target="_blank">Protocol Buffers tutorials</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="grpc-server"><a class="anchor" href="#grpc-server"></a>gRPC server</h4>
<div class="paragraph">
<p>The gRPC server discovers and loads all GeoWave gRPC service implementations via the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/services/grpc/server/src/main/java/org/locationtech/geowave/service/grpc/GeoWaveGrpcServiceSpi.java"><code>GeoWaveGrpcServiceSpi</code></a> interface. The server code and gRPC service implementations may be found in the <code>geowave-grpc-server</code> project. This project also contains definitions for a few CLI commands to start and stop the server.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="programmatic-api-examples"><a class="anchor" href="#programmatic-api-examples"></a>Programmatic API Examples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following examples show how to utilize the GeoWave API to accomplish common tasks programmatically.</p>
</div>
<div class="sect2">
<h3 id="creating-data-stores"><a class="anchor" href="#creating-data-stores"></a>Creating Data Stores</h3>
<div class="paragraph">
<p>Data stores are created by instantiating a <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/StoreFactoryOptions.java"><code>StoreFactoryOptions</code></a> implementation for the data store type you want to create.  The following table lists the various options classes for each supported key/value store:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key/Value Store</th>
<th class="tableblock halign-left valign-top">Options Class</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Accumulo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/extensions/datastores/accumulo/src/main/java/org/locationtech/geowave/datastore/accumulo/config/AccumuloRequiredOptions.java"><code>org.locationtech.geowave.datastore.accumulo.config.AccumuloRequiredOptions</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bigtable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/extensions/datastores/bigtable/src/main/java/org/locationtech/geowave/datastore/bigtable/config/BigTableOptions.java"><code>org.locationtech.geowave.datastore.bigtable.config.BigTableOptions</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cassandra</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/extensions/datastores/cassandra/src/main/java/org/locationtech/geowave/datastore/cassandra/config/CassandraRequiredOptions.java"><code>org.locationtech.geowave.datastore.cassandra.config.CassandraRequiredOptions</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DynamoDB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/extensions/datastores/dynamodb/src/main/java/org/locationtech/geowave/datastore/dynamodb/config/DynamoDBOptions.java"><code>org.locationtech.geowave.datastore.dynamodb.config.DynamoDBOptions</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HBase</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/extensions/datastores/hbase/src/main/java/org/locationtech/geowave/datastore/hbase/config/HBaseRequiredOptions.java"><code>org.locationtech.geowave.datastore.hbase.config.HBaseRequiredOptions</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kudu</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/extensions/datastores/kudu/src/main/java/org/locationtech/geowave/datastore/kudu/config/KuduOptions.java"><code>org.locationtech.geowave.datastore.kudu.config.KuduOptions</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Redis</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/extensions/datastores/redis/src/main/java/org/locationtech/geowave/datastore/redis/config/RedisOptions.java"><code>org.locationtech.geowave.datastore.redis.config.RedisOptions</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RocksDB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/extensions/datastores/rocksdb/src/main/java/org/locationtech/geowave/datastore/rocksdb/config/RocksDBOptions.java"><code>org.locationtech.geowave.datastore.rocksdb.config.RocksDBOptions</code></a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Once the options class has been initialized with all of the desired options, a <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/api/DataStore.java"><code>DataStore</code></a> can be created using the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/api/DataStoreFactory.java"><code>DataStoreFactory</code></a>.  The following example shows how to create a RocksDB data store:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">RocksDBOptions options = new RocksDBOptions();
options.setDirectory("/myStore");
options.setGeoWaveNamespace("gwNamespace");
DataStore myStore = DataStoreFactory.createDataStore(options);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-indices"><a class="anchor" href="#creating-indices"></a>Creating Indices</h3>
<div class="paragraph">
<p>Spatial and spatial-temporal indices are created by using the appropriate index builder. For spatial indices, the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/geotime/src/main/java/org/locationtech/geowave/core/geotime/index/api/SpatialIndexBuilder.java"><code>SpatialIndexBuilder</code></a> can be used, and for spatial-temporal indices, the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/geotime/src/main/java/org/locationtech/geowave/core/geotime/index/api/SpatialTemporalIndexBuilder.java"><code>SpatialTemporalIndexBuilder</code></a> can be used. Each builder has options that are specific to the type of index being created.  Once all options have been set, the index can be created with the <code>createIndex</code> function.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">// Spatial Index
SpatialIndexBuilder spatialIndexBuilder = new SpatialIndexBuilder();
spatialIndexBuilder.setCrs("EPSG:4326");
Index spatialIndex = spatialIndexBuilder.createIndex();

// Spatial-temporal Index
SpatialTemporalIndexBuilder spatialTemporalIndexBuilder = new SpatialTemporalIndexBuilder();
spatialTemporalIndexBuilder.setCrs("EPSG:3857");
spatialTemporalIndexBuilder.setPeriodicity(Unit.MONTH);
Index spatialTemporalIndex = spatialTemporalIndexBuilder.createIndex();</code></pre>
</div>
</div>
<div class="paragraph">
<p>This index can then be added to the data store with the <code>addIndex</code> function.  The following example shows how to add these indices to the RocksDB data store created in the previous section:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">// Add the spatial and spatial-temporal indices
myStore.addIndex(spatialIndex);
myStore.addIndex(spatialTemporalIndex);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ingesting-data"><a class="anchor" href="#ingesting-data"></a>Ingesting Data</h3>
<div class="paragraph">
<p>Data can be ingested into GeoWave by adding a type to a set of indices and then using the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/api/Writer.java"><code>Writer</code></a> interface to write data.  The following example creates a <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/extensions/adapters/vector/src/main/java/org/locationtech/geowave/adapter/vector/FeatureDataAdapter.java"><code>FeatureDataAdapter</code></a> from a GeoTools <code>SimpleFeatureType</code>, adds it to the data store in the spatial index that was created in the previous section, and then uses the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/api/Writer.java"><code>Writer</code></a> to write some features:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">// Create a point feature type
SimpleFeatureTypeBuilder pointTypeBuilder = new SimpleFeatureTypeBuilder();
AttributeTypeBuilder attributeBuilder = new AttributeTypeBuilder();
pointTypeBuilder.setName("TestPointType");
pointTypeBuilder.add(attributeBuilder.binding(Point.class).nillable(false).buildDescriptor("the_geom"));
pointTypeBuilder.add(attributeBuilder.binding(Date.class).nillable(false).buildDescriptor("date"));
SimpleFeatureType pointType = pointTypeBuilder.buildFeatureType();

// Create a feature builder
SimpleFeatureBuilder pointFeatureBuilder = new SimpleFeatureBuilder(pointType);

// Create an adapter for point type
FeatureDataAdapter pointTypeAdapter = new FeatureDataAdapter(pointType);

// Add the point type to the data store in the spatial index
myStore.addType(pointTypeAdapter, spatialIndex);

// Create a writer to ingest data
try(Writer&lt;SimpleFeature&gt; writer = myStore.createWriter(pointTypeAdapter.getTypeName())) {
  // Write some features to the data store
  GeometryFactory factory = new GeometryFactory();
  pointFeatureBuilder.set("the_geom", factory.createPoint(new Coordinate(1, 1)));
  pointFeatureBuilder.set("date", new Date());
  writer.write(pointFeatureBuilder.buildFeature("feature1"));

  pointFeatureBuilder.set("the_geom", factory.createPoint(new Coordinate(5, 5)));
  pointFeatureBuilder.set("date", new Date());
  writer.write(pointFeatureBuilder.buildFeature("feature2"));

  pointFeatureBuilder.set("the_geom", factory.createPoint(new Coordinate(-5, -5)));
  pointFeatureBuilder.set("date", new Date());
  writer.write(pointFeatureBuilder.buildFeature("feature3"));
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="querying-data"><a class="anchor" href="#querying-data"></a>Querying Data</h3>
<div class="paragraph">
<p>Data in GeoWave can be queried by using the appropriate <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/api/QueryBuilder.java"><code>QueryBuilder</code></a> implementation as described in the <a href="#query-builders">query builder documentation</a>.  The following is an example of using the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/geotime/src/main/java/org/locationtech/geowave/core/geotime/store/query/api/VectorQueryBuilder.java"><code>VectorQueryBuilder</code></a> to query feature data that lies within a specific bounding box:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">// Create the query builder and constraints factory
VectorQueryBuilder queryBuilder = VectorQueryBuilder.newBuilder();
VectorQueryConstraintsFactory constraintsFactory = queryBuilder.constraintsFactory();

// Use the constraints factory to create a bounding box constraint
queryBuilder.constraints(constraintsFactory.cqlConstraints("BBOX(the_geom, -1, -1, 6, 6)"));

// Only query data from the point type
queryBuilder.addTypeName(pointTypeAdapter.getTypeName());

// Build the query
Query&lt;SimpleFeature&gt; query = queryBuilder.build();

// Execute the query
try (CloseableIterator&lt;SimpleFeature&gt; features = myStore.query(query)) {
  // Iterate through the results
  while(features.hasNext()) {
    SimpleFeature feature = features.next();
    // Do something with the feature
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="aggregating-data"><a class="anchor" href="#aggregating-data"></a>Aggregating Data</h3>
<div class="paragraph">
<p>Aggregation queries can be performed by using an <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/api/AggregationQueryBuilder.java"><code>AggregationQueryBuilder</code></a> as described in the <a href="#query-builders">query builder documentation</a>.  The following is an example of performing a count aggregation on a vector type in the data store for features that lie in a given bounding box:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">// Create the aggregation query builder
VectorAggregationQueryBuilder&lt;Persistable, Object&gt; aggregationQueryBuilder = VectorAggregationQueryBuilder.newBuilder();

// Use the constraints factory from the previous example to create a bounding box constraint
aggregationQueryBuilder.constraints(constraintsFactory.cqlConstraints("BBOX(the_geom, -1, -1, 6, 6)"));

// Configure the query to use a count aggregation on the desired type
aggregationQueryBuilder.count(pointTypeAdapter.getTypeName());

// Create the aggregation query
AggregationQuery&lt;Persistable, Object, SimpleFeature&gt; aggregationQuery = aggregationQueryBuilder.build();

// Perform the aggregation
Long count = (Long) myStore.aggregate(aggregationQuery);</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also create aggregations for any custom <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/api/Aggregation.java"><code>Aggregation</code></a> implementation by using the <code>aggregate</code> function of the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/api/AggregationQueryBuilder.java"><code>AggregationQueryBuilder</code></a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="querying-statistics"><a class="anchor" href="#querying-statistics"></a>Querying Statistics</h3>
<div class="paragraph">
<p>Statistic queries can be performed by using an appropriate <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/api/StatisticQueryBuilder.java"><code>StatisticQueryBuilder</code></a>.  The following is an example of querying the bounding box statistic of a vector type in the data store:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">// Create the statistic query builder
FieldStatisticQueryBuilder&lt;BoundingBoxValue, Envelope&gt; builder = SpatialTemporalStatisticQueryBuilder.bbox();

// Specify the type name
builder.typeName(pointTypeAdapter.getTypeName());

// Create the bounding box statistics query
StatisticQuery&lt;BoundingBoxValue, Envelope&gt; bboxQuery = builder.build();

// Aggregate the statistic into a single result
BoundingBoxValue bboxStatValue = myStore.aggregateStatistics(bboxQuery);

// Get the value
Envelope bbox = bboxStatValue.getValue();</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Specifying the type name in the statistics query is optional and serves to filter statistics to the type we are interested in.  If the type name is not supplied, bounding box statistics for all types will be aggregated.
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="appendices-2"><a class="anchor" href="#appendices-2"></a>Appendices</h2>
<div class="sectionbody">
<div style="page-break-after: always;"></div>
<div class="sect2">
<h3 id="extending-geowave-2"><a class="anchor" href="#extending-geowave-2"></a>Extending GeoWave</h3>
<div class="sect3">
<h4 id="spi"><a class="anchor" href="#spi"></a>SPI</h4>
<div class="paragraph">
<p>Third-party extensions to GeoWave are discovered using Service Provider Interfaces (SPI). Each extendable system contains one or more of these interfaces that allow GeoWave to find third-party classes that add enhanced functionality to those systems. For more information on using SPI, see the <a href="https://docs.oracle.com/javase/tutorial/sound/SPI-intro.html" target="_blank">Oracle documentation</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="persistables"><a class="anchor" href="#persistables"></a>Persistables</h4>
<div class="paragraph">
<p>In order to support dynamic construction of serializable objects, classes can implement the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/index/src/main/java/org/locationtech/geowave/core/index/persist/Persistable.java"><code>Persistable</code></a> interface.  This interface is at the root of many of the basic GeoWave metadata objects such as data type adapters, indices, and statistics.  When implementing a class that uses this interface, the class will need to be registered with the persistable registry by implementing the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/index/src/main/java/org/locationtech/geowave/core/index/persist/PersistableRegistrySpi.java"><code>PersistableRegistrySpi</code></a> interface and making sure the JAR containing both the registry and the persistable classes are on the classpath when running GeoWave.  Each persistable has an ID of type short that uniquely identifies the class. All third-party persistable IDs will be automatically converted to the negative ID space (i.e. a persistable ID of 30 will become -30). This allows third-party developers to use any persistable ID without having to worry about conflicting with current or future internal persistables. It is recommended that third-party persistables use positive IDs for simplicity, but keep in mind that they will be converted to the negative space internally.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="documentation-2"><a class="anchor" href="#documentation-2"></a>Documentation</h3>
<div class="sect3">
<h4 id="overview-4"><a class="anchor" href="#overview-4"></a>Overview</h4>
<div class="paragraph">
<p>The documentation is writen in <a href="http://www.methods.co.nz/asciidoc/index.html" target="_blank">AsciiDoc</a> which is a plain-text markup format that can be created using any text editor and read “as-is”, or rendered to several other formats like HTML, PDF or EPUB.</p>
</div>
<div class="paragraph">
<p>Helpful Links:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://asciidoctor.org/docs/what-is-asciidoc/" target="_blank">What is Asciidoc?</a></p>
</li>
<li>
<p><a href="http://asciidoctor.org/docs/asciidoc-writers-guide/" target="_blank">Writer&#8217;s Guide</a></p>
</li>
<li>
<p><a href="http://asciidoctor.org/docs/asciidoc-syntax-quick-reference/" target="_blank">AsciiDoc Syntax Reference</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="ordering"><a class="anchor" href="#ordering"></a>Ordering</h4>
<div class="paragraph">
<p>All of the content stored in the <code>docs/content</code> directory of this project will be rendered into a single webpage with an auto-generated table of contents and a PDF. The order in which the pages appear is determined by the sort order of the file names given to the ASCIIDOC files in the <code>docs/content</code> directory, so a numeric prefix has been given to each file. Gaps can be left in between the numbers (only the sort order is important) to allow for future edits without having to renumber other documents that will appear after the new content.</p>
</div>
</div>
<div class="sect3">
<h4 id="preview"><a class="anchor" href="#preview"></a>Preview</h4>
<div class="paragraph">
<p>To preview markup as HTML before making a commit, there are plugins available, and various text editors and IDEs, that can be used while editing. If your preferred text editor has no plugin available, there&#8217;s a <a href="https://github.com/asciidoctor/asciidoctor-firefox-addon" target="_blank">Firefox AsciiDoc Plugin</a> available that allows for previewing with a quick refresh of the browser.</p>
</div>
</div>
<div class="sect3">
<h4 id="site"><a class="anchor" href="#site"></a>Site</h4>
<div class="paragraph">
<p>To build all the content used for the entire finished web page or the generated PDF for the <a href="https://locationtech.github.io/geowave/" target="_blank">GeoWave website</a>, use the following command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ cd geowave
$ mvn -P {FORMAT} install <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Supported formats include 'pdf' and 'html' (no quotes).</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The entire site, including both docs and javadocs, will be available for inspection in the <code>geowave/target/site/</code> directory.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="geowave-project-descriptions"><a class="anchor" href="#geowave-project-descriptions"></a>GeoWave Project Descriptions</h3>
<div class="paragraph">
<p>The table below outlines the different project hierarchies within the GeoWave project</p>
</div>
<table class="tableblock frame-topbot grid-rows spread">
<colgroup>
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 9%;">
<col style="width: 25%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="5">Path</th>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="5"><p class="tableblock">geowave</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Parent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parent directory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">analytics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Analytics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The set of analytics provided for GeoWave Datasets. Extensions to <code>geowave-core-mapreduce</code> for particular methodologies (Spark on Hadoop/Yarn or MapReduce on Hadoop/Yarn).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">api</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Analytics API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave APIs and re-usable analytic code that can be shared across specific external frameworks, e.g., MapReduce and Spark.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">mapreduce</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave MapReduce Analytics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specific algorithms written in MapReduce for GeoWave.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">spark</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Spark Analytics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specific algorithms written for Spark on GeoWave data.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">pyspark</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave PySpark</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave tools for PySpark.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">core</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Core</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The set of base functionalities provided for all configurations of GeoWave.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">cli</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Core CLI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command-Line Interface for GeoWave Tools. Provides a base command-line tool framework for interacting with GeoWave that can be extended by any other projects.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">geotime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Spatial and Temporal Support</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Builds on the core store and index modules special casing the multi-dimensional index problem as spatial and spatial-temporal index on a sorted key value store.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">index</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Index</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Focused on the problem of maintaining good lexicographic sort order for multi-dimensional data, exposed primarily through <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/index/src/main/java/org/locationtech/geowave/core/index/NumericIndexStrategy.java"><code>NumericIndexStrategy</code></a>, i.e., how is the key formed for the key/value store.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">ingest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Ingest Framework</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Builds on the command-line framework to provide ingest command-line tools.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">mapreduce</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave MapReduce</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Builds on the core store module to provide the basic analytic components for running jobs on Hadoop. Primarily, this exposes Hadoop input and output formats for GeoWave that can be used to intelligently distribute jobs across GeoWave data within the context of any distributed processing framework run on Yarn such as Spark or MapReduce.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">store</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Store</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Core APIs and functionality for GeoWave, including the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/api/DataStore.java"><code>DataStore</code></a> interface.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">deploy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Deployment Configurations</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Various scripts for packaging and deploying GeoWave in production.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">dev-resources</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Development Resources</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Development resources and settings for GeoWave.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">docs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Documentation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Documentation, primarily in the form of asciidoc that can be compiled into a variety of formats including HTML, PDF, EPUB, and others (everything seen on <a href="http://locationtech.github.io/geowave" target="_blank">http://locationtech.github.io/geowave</a> is automatically built and published on each commit).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">examples</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Examples</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Some very basic code examples for reading and writing vector data in GeoWave, and running some basic analytics. This is a great and simple place to contribute if you see a gap that you think should be covered.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">extensions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Extensions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The set of extended capabilities supported for GeoWave</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">adapters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Extension Adapaters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/api/DataTypeAdapter.java"><code>DataTypeAdapter</code></a> in the system is essentially responsible for taking any java object and handling serialization/deserialization to/from the value portion of the key/value pair. It&#8217;s called <em>encode</em> and <em>decode</em> in the code because it is a little more complex than just <em>serialization</em> and <em>deserialization</em>, but in general, the over-simplified high-level view is that the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/index/src/main/java/org/locationtech/geowave/core/index/NumericIndexStrategy.java"><code>NumericIndexStrategy</code></a> from <code>geowave-core-index</code> handles building a good key, and the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/api/DataTypeAdapter.java"><code>DataTypeAdapter</code></a> handles building a good value, then the <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/api/DataStore.java"><code>DataStore</code></a> has no direct logic for mapping the java object to a key or a value. If you have a new java object, you can write a new adapter independent of specific data stores. Likewise, if you have a new strategy for indexing or a different dimensionality to index, that would be independent of any of the specific data stores (ie. you can simply write your own adapter if you have a unique dataset and it can store your data with any indexing scheme on any backend data store).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">auth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Adapter Auth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Authorization functionality for GeoWave Data Adapters</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">raster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Raster Adapter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/api/DataTypeAdapter.java"><code>DataTypeAdapter</code></a> for <code>GridCoverage</code> data (e.g., "raster" data in GIS vocabulary) is <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/extensions/adapters/raster/src/main/java/org/locationtech/geowave/adapter/raster/adapter/RasterDataAdapter.java"><code>RasterDataAdapter</code></a>, this also contains GeoTools/GeoServer extensions for GeoWave raster data within the plugin package.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">vector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Vector Adapter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/core/store/src/main/java/org/locationtech/geowave/core/store/api/DataTypeAdapter.java"><code>DataTypeAdapter</code></a> for <code>SimpleFeature</code> data (e.g., "vector" data in GIS vocabulary) is <a href="https://github.com/locationtech/geowave/blob/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af/extensions/adapters/vector/src/main/java/org/locationtech/geowave/adapter/vector/FeatureDataAdapter.java"><code>FeatureDataAdapter</code></a>, this also contains GeoTools/GeoServer extensions for GeoWave vector data within the plugin package.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">cli</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Extension CLI&#8217;s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extensions to the GeoWave command-line tools framework.  Contains tools whose sole purpose is to extend the GeoWave command-line tools.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">debug</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Debug Command-line Tools</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A set of ad-hoc debug tools available through the command-line that can be applied to GeoWave data.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">geoserver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave GeoServer Command-line Tools</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave command-line tools for managing GeoServer layers and data stores.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">landsat8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave LandSat8 Operations</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave support for public LandSat8 data.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">sentinel2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Sentinel2 Operations</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave support for public Sentinel2 data.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">osm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave OSM Command-Line Tools</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OSM data processing system for GeoWave.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">datastores</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Data Stores</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">These extensions contain all of the necessary code to run GeoWave on a particular backend key/value store.  The intent is to keep as much logic out of these extensions as possible to prevent fragmentation of the codebase.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">accumulo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Accumulo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave data store on Apache Accumulo.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">bigtable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave BigTable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave data store on Google Bigtable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">cassandra</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Cassandra</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave data store on Apache Cassandra.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">dynamodb</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave DynamoDB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave data store on DynamoDB.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">hbase</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave HBase</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave data store on Apache HBase.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">kudu</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Kudu</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave data store on Apache Kudu.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">redis</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Redis</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave data store on Redis.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">rocksdb</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave RocksDB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave data store on RocksDB.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">formats</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Extension Formats</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A format plugin in the system is an extension to the command-line ingest framework, providing a means to read data from a particular format of interest and map it to a particular adapter; in the open source project, we provide a variety of vector formats and a single raster format that wraps a popular library; GeoTools (<code>geotools-vector</code> format covers all formats supported by GeoTools and <code>geotools-raster</code> covers all raster formats supported by GeoTools, each covering a large variety of popular geospatial formats).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">avro</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Avro Format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave ingest support for Avro data matching GeoWave&#8217;s generic vector avro schema.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">gdelt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave GDELT Format Support</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave ingest support for Google Ideas' GDELT dataset.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">geolife</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave GeoLife Format Support</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave ingest support for Microsoft Research&#8217;s GeoLife dataset.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">geotools-raster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Raster Format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave ingest support for all raster formats that are supported within GeoTools.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">geotools-vector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Vector Format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave ingest support for all vector formats that are supported within GeoTools.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">gpx</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave GPX Format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave ingest support for GPX data.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">stanag4676</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave STANAG4676</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave STANAG4676 support for the NATO specification for track data.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave STANAG4676 Format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The GeoWave STANAG4676 format implementation supports ingest of tracks, track points, motion events, and associated image chips into GeoWave.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave STANAG4676 Service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The GeoWave STANAG4676 service implementation provides a rest endpoint to get the image chips per point and motion event, and stitch videos together per track.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">tdrive</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave T-Drive Format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave ingest support for Microsoft Research&#8217;s T-Drive dataset.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">twitter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Twitter Format Support</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave ingest support for Twitter JSON data.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">python</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Python Bindings</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Python bindings and command-line Py4J Java Gateway.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">services</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Services</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The set of services and clients provided for interacting with GeoWave.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">api</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Services API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service APIs for use when interfacing with GeoWave as a consumer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Java Client for REST services</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Java clients exposing GeoWave service interfaces and functionality.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Services Rest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The server-side implementation of GeoWave REST API.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">grpc</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave gRPC projects.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">protobuf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave gRPC Protobuf Library</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Protobuf files for GeoWave gRPC Service Implementation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">protobuf-generator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave gRPC Protobuf Generator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This project generates protobuf files for all service-enabled commands.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave gRPC Server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The server-side implementation of the GeoWave gRPC service.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">test</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Integration Tests</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A module for integration and functional tests of GeoWave. Integration tests for end-to-end functionality with local test environments for each data store (often can serve as examples as well, but typically the intent of examples is to be simple and straightforward; the integration tests are more complex, but certainly more inclusive of a variety of functionality)</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="maven-artifacts"><a class="anchor" href="#maven-artifacts"></a>Maven Artifacts</h3>
<div class="paragraph">
<p>Both release and snapshot GeoWave artifacts are available on Maven Central.</p>
</div>
<div class="paragraph">
<p>GeoWave dependencies can be added through a Maven POM file with the following snippet (replacing <code>${geowave-artifact}</code> with the desired artifact and <code>${geowave.version}</code> with the desired version):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.locationtech.geowave&lt;/groupId&gt;
    &lt;artifactId&gt;${geowave-artifact}&lt;/artifactId&gt;
    &lt;version&gt;${geowave.version}&lt;/version&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>To use GeoWave snapshots the following repository should be added to the POM file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;repository&gt;
  &lt;id&gt;ossrh&lt;/id&gt;
  &lt;url&gt;https://oss.sonatype.org/content/repositories/snapshots&lt;/url&gt;
  &lt;releases&gt;
    &lt;enabled&gt;false&lt;/enabled&gt;
  &lt;/releases&gt;
  &lt;snapshots&gt;
    &lt;enabled&gt;true&lt;/enabled&gt;
  &lt;/snapshots&gt;
&lt;/repository&gt;</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="python-api-2"><a class="anchor" href="#python-api-2"></a>Python API</h3>
<div class="paragraph">
<p>The GeoWave Python bindings, also known as <code>pygw</code> provides a subset of GeoWave&#8217;s API to Python applications through the use of a Py4J Java Gateway.  The <a href="pydocs/index.html">Python bindings documentation</a> has more information about the specifics of this API.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="jace-jni-proxies-2"><a class="anchor" href="#jace-jni-proxies-2"></a>Jace JNI Proxies</h3>
<div class="paragraph">
<p>Using Jace, we are able to create JNI proxy classes for GeoWave that can be used in C/C++ applications.</p>
</div>
<div class="paragraph">
<p>Boost is required when using the Jace bindings.</p>
</div>
<div class="sect3">
<h4 id="generate-proxies-and-build-from-source"><a class="anchor" href="#generate-proxies-and-build-from-source"></a>Generate Proxies and Build from Source</h4>
<div class="sect4">
<h5 id="step-1-checkout-jace-and-geowave"><a class="anchor" href="#step-1-checkout-jace-and-geowave"></a>Step 1 - Checkout Jace and GeoWave</h5>
<div class="paragraph">
<p>First, we need to clone Jace and GeoWave.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ git clone git@github.com:jwomeara/jace.git
$ git clone git@github.com:locationtech/geowave.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note: We are using a non-standard Jace implementation.</p>
</div>
</div>
<div class="sect4">
<h5 id="step-2-install-jace"><a class="anchor" href="#step-2-install-jace"></a>Step 2 - Install Jace</h5>
<div class="paragraph">
<p>First, we need to install Jace v1.3.0.  This is the software that is used to generate the C++ proxy classes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ cd jace
$ git checkout tags/v1.3.0
$ mvn clean install -Dsources</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="step-3-generate-geowave-jace-proxies"><a class="anchor" href="#step-3-generate-geowave-jace-proxies"></a>Step 3 - Generate GeoWave Jace Proxies</h5>
<div class="paragraph">
<p>Here, we will specify a Maven profile that specifies that we are building jace proxies.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ cd geowave
$ mvn clean package -pl deploy -am -P generate-geowave-jace -DskipTests</code></pre>
</div>
</div>
<div class="paragraph">
<p>This generates the source and header files required to build GeoWave.  To build the library, simply run cmake, followed by make.</p>
</div>
<div class="paragraph">
<p>Note: To build static libraries, use "-DBUILD_SHARED_LIBS=OFF". Otherwise use "-DBUILD_SHARED_LIBS=ON" (no quotes).</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="theory"><a class="anchor" href="#theory"></a>Theory</h3>
<div class="sect3">
<h4 id="spatial-index"><a class="anchor" href="#spatial-index"></a>Spatial Index</h4>
<div class="paragraph">
<p>GeoWave creates a spatial index to represent multi-dimensional data in a manner that can be reduced to a series of ranges on a 1 dimensional number line.
Examples of these include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>latitude, longitude</p>
</li>
<li>
<p>latitude, longitude, time</p>
</li>
<li>
<p>latitude, longitude, altitude, time</p>
</li>
<li>
<p>feature vector1, feature vector 2 (…), feature vector n</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This is due to the way big-table-based databases store the data – as a sorted set of key/value pairs.</p>
</div>
<div class="paragraph">
<p>The goal is to provide a property that ensures values close in n-dimensional space are still close in 1-dimensional space. There are a few reasons for this, but primarily it’s so we can represent an n-dimensional range selector (bbox typically, but can be abstracted to a hyper-rectangle) as a smaller number of highly contiguous 1-dimensional ranges.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/sfc1.png" alt="Z-Curve: 2D -&gt; 1D" width="100%">
</div>
<div class="title">Figure 15. Z-Order curve based dimensional decomposition</div>
</div>
<div class="paragraph">
<p>Fortunately, there is already a type of transform that describes this operation in mathematics called a “Space Filling Curve” (SFC). Different SFCs have different properties, but they all take an n-dimensional space and describe a set of steps to trace all points in a single sequence.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/curves.png" alt="Various space filling curves" width="100%">
</div>
<div class="title">Figure 16. Haverkort, Walderveen Locality and Bounding-Box Quality of Two-Dimensional Space-Filling Curves 2008 arXiv:0806.4787v2</div>
</div>
<div class="paragraph">
<p>The trade-offs for the various curves are outside the scope of this user manual, but the paper cited for Figure two is an excellent starting point to start learning about these curves.</p>
</div>
<div class="paragraph">
<p>GeoWave supports two space filling curves: Z-Order and Hilbert, with the latter being the primary implementation.</p>
</div>
<div class="sect4">
<h5 id="hilbert-sfc"><a class="anchor" href="#hilbert-sfc"></a>Hilbert SFC</h5>
<div class="paragraph">
<p>The Hilbert curve is a bit more complex to work with than the Z-curve, both when calculating and when performing a decomposition. Nevertheless it is popular in certain areas in computer science where multiple variables need to be set in a linear order – process scheduling for one. A simplistic view of a standard projections of the earth mapped to a Hilbert curve would look something like the image below, which shows 4 bits of cardinality per dimension (how many buckets we have).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/hilbert1.png" alt="Hilbert SFC" width="100%">
</div>
<div class="title">Figure 17. Hilbert space filling curve superimposed over a projection of the earth</div>
</div>
<div class="paragraph">
<p>Note that the cardinality (number of buckets per dimensions) has an impact on the resolution of our Hilbert index. Here we map from -180 to +180 over 16 buckets so we have resolution of no better than 360/16, or 22.5 degrees for longitude (and incidentally 11.25 degrees for latitude). This doesn’t mean we can’t represent values more precisely than this. It just means that our initial (coarse) index (based on SFC ranges) can’t provide resolution any better than this. Adding more bits per dimensions will increase the precision of the SFC-based index.</p>
</div>
</div>
<div class="sect4">
<h5 id="z-order-sfc"><a class="anchor" href="#z-order-sfc"></a>Z-Order SFC</h5>
<div class="paragraph">
<p>This is also commonly called a GeoHash or Morton order, and sometimes is incorrectly called a Peano curve. This is the most popular SFC used for multi-dimensional &#8594; 1-dimensional mappings primarily because it is very easy to implement in code.</p>
</div>
<div class="paragraph">
<p>To implement this, ideally, a bit-interleaving approach is used (that is what gives rise to the diagram in the figure <em>Z-Order curve based dimensional decomposition</em>). Imagine we had two numbers, A and B. Let the binary representation of those numbers be A1A2A3 and B1B2B3. The “bit interleaved” version would be A1B1A2B2A3B3. Since we are working with binary numbers this gives a “unit cell” of 2x2. If we added dimensions, just imagine the same interleaving, but another term — C1C2C3, etc. This is sometimes implemented in <em>Base 10</em> instead of <em>Base 2</em>. This implementation somewhat reduces the locality (“packing property” – or the measure of how close numbers in n-dimensional space are to numbers in 1-dimensional space). As you might expect a 2-dimensional version of this gives a unit cell of 10x10 (for two dimensions) – hence the worse packing.</p>
</div>
</div>
<div class="sect4">
<h5 id="xz-order-sfc"><a class="anchor" href="#xz-order-sfc"></a>XZ-Order SFC</h5>
<div class="paragraph">
<p>The XZ-Order SFC is an extension of Z-Ordering, and designed to map spatial objects. This is done by extending the region of each Z-Order dimension by 2, in order to support mapping spatial - non-point - objects, such as polygons or rectangles.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="theorydecomposition"><a class="anchor" href="#theorydecomposition"></a>Decomposition</h4>
<div class="paragraph">
<p>Range decomposition is the core to the concept of SFC-based indexing. This is when we take a range described in multiple dimensions and turn it into a series of 1-dimensional ranges.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/hilbertdecomp1.png" alt="Hilbert Decomposition 1" width="70%">
</div>
<div class="title">Figure 18. Hilbert Decomposition 1</div>
</div>
<div class="paragraph">
<p><em>Figure: Hilbert Ranges</em></p>
</div>
<div class="paragraph">
<p>In the figure above we show what we mean by this. The bounding box described by the blue selection window, or (2,9) &#8594; (5,13), will “fully” decompose to 3 ranges – 70&#8594;75, 92&#8594;99, and 116&#8594;121.</p>
</div>
<div class="paragraph">
<p>It should be noted that sometimes more simplistic algorithms will not fully decompose, but would instead represent this as 70&#8594;121 or even 64&#8594;127 (the smallest “unit cell” this box fits in). As you can see, this would result in scanning many extraneous cells.</p>
</div>
<div class="paragraph">
<p>At some point, with high precision, high dimensionality curves, the number of possible unit cells can become too large to deal with. In such a case, GeoWave optimizes this by treating the curve as a “lower cardinality” curve than it actually is. So the unit cell size might not be 1, but instead 64, 128, 1024, etc. This allows the user to still achieve high precision when selection windows are small but not spend an inordinate amount of time fully decomposing for large selection windows.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/hilbertdecomp2.png" alt="Hilbert Decomposition" width="75%">
</div>
<div class="title">Figure 19. Hilbert Decomposition 2</div>
</div>
<div class="sect4">
<h5 id="consider-a-region-query-asking-for-all-data-from"><a class="anchor" href="#consider-a-region-query-asking-for-all-data-from"></a>Consider a region query asking for all data from:</h5>
<div class="listingblock">
<div class="content">
<pre> (1,1) -&gt; (5,4)</pre>
</div>
</div>
<div class="paragraph">
<p>This query range is shown at left by a blue bounding box.</p>
</div>
</div>
<div class="sect4">
<h5 id="what-did-we-do-here"><a class="anchor" href="#what-did-we-do-here"></a>What did we do here?</h5>
<div class="ulist">
<ul>
<li>
<p>We broke down the initial region into 4 subregions (Red boxes).</p>
</li>
<li>
<p>We broke down each subregion (red box) into 4 sub-sub regions (purple boxes).</p>
</li>
<li>
<p>We then broke down each of those purple boxes into green boxes.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>Once we had a decomposed quad that is full contained by the bounding box we stopped decomposing.</p>
</li>
<li>
<p>We didn’t bother decomposing regions that didn’t overlap the original search criteria.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/hilbertdecomp3.png" alt="Hilbert Decomposition" width="75%">
</div>
<div class="title">Figure 20. Hilbert Decomposition 3</div>
</div>
<div class="paragraph">
<p>Here we see the query range fully decomposed into the underlying "quads". Note that in some instances we were able to stop decomposing when the query window fully contained the quad (segment 3 and segment 8).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/hilbertdecomp4.png" alt="Hilbert Decomposition" width="75%">
</div>
<div class="title">Figure 21. Hilbert Decomposition 4</div>
</div>
<div class="paragraph">
<p>Now we have fully transitioned to the 1-dimensional number line from the previous set of quads. We have also rolled together regions that are contiguous.</p>
</div>
<script>
var geowave_version = '2.0.1-SNAPSHOT';
</script>

<div class="geowave-footer col-md-12 docs-footer">
  <div class="py-4 d-flex justify-content-center align-items-center">
    <small><p class="footer-text">This page was generated on Friday, May 27, 2022 at 12:04 AM UTC<br><a href="https://github.com/locationtech/geowave/tree/f0ae2ed53d6614c9fb6559a97f79c51f9d9965af">View the commit it was generated from on GitHub</a></p></small>
  </div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2022-05-27 00:04:53 +00:00
</div>
</div>
</body>
</html>
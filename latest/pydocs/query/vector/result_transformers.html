<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.6.3" />
<title>pygw.query.vector.result_transformers API documentation</title>
<meta name="description" content="" />
<link href='https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css' rel='stylesheet'>
<link href='https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/8.0.0/sanitize.min.css' rel='stylesheet'>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" rel="stylesheet">
<style>.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{font-weight:bold}#index h4 + ul{margin-bottom:.6em}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase;cursor:pointer}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>pygw.query.vector.result_transformers</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>Source code</summary>
<pre><code class="python">#
# Copyright (c) 2013-2020 Contributors to the Eclipse Foundation

#
# See the NOTICE file distributed with this work for additional information regarding copyright
# ownership. All rights reserved. This program and the accompanying materials are made available
# under the terms of the Apache License, Version 2.0 which accompanies this distribution and is
# available at http://www.apache.org/licenses/LICENSE-2.0.txt
# ===============================================================================================
from datetime import datetime

from ..query_result_transformer import QueryResultTransformer
from ...geotools import AttributeDescriptor, SimpleFeatureType, SimpleFeature


class EnvelopeTransformer(QueryResultTransformer):
    &#34;&#34;&#34;
    Transforms Java Envelope results into a tuple.
    &#34;&#34;&#34;

    def transform(self, j_result):
        &#34;&#34;&#34;
        Transform the given Java Envelope into a tuple.

        Args:
            j_result (Java Envelope): An Envelope Java object.
        Returns:
            A tuple of (minX, minY, maxX, maxY) of the envelope.
        &#34;&#34;&#34;
        return j_result.getMinX(), j_result.getMinY(), j_result.getMaxX(), j_result.getMaxY()


class IntervalTransformer(QueryResultTransformer):
    &#34;&#34;&#34;
    Transforms Java Interval results into a tuple.
    &#34;&#34;&#34;

    def transform(self, j_result):
        &#34;&#34;&#34;
        Transform the given Java Interval into a tuple.

        Args:
            j_result (Java Envelope): An Interval Java object.
        Returns:
            A tuple of (start, end) of the interval.
        &#34;&#34;&#34;
        return datetime.utcfromtimestamp(j_result.getStart().getEpochSecond()), datetime.utcfromtimestamp(
            j_result.getEnd().getEpochSecond())


class SimpleFeatureTransformer(QueryResultTransformer):
    &#34;&#34;&#34;
    Transforms Java SimpleFeature query results into pgyw.geotools.SimpleFeature
    results.  In order to accomplish this, the pygw variant of the SimpleFeatureType
    has to be constructed from the feature.  In order to avoid doing this for every
    result, there is a feature type cache that the transform function can pull from.
    &#34;&#34;&#34;

    def __init__(self):
        self._feature_type_cache = {}

    def transform(self, j_result):
        &#34;&#34;&#34;
        Transform the given Java SimpleFeature into a pygw.geotools.SimpleFeature.

        Args:
            j_result (Java SimpleFeature): A geotools SimpleFeature Java object.
        Returns:
            A `pygw.geotools.simple_feature.SimpleFeature`.
        &#34;&#34;&#34;
        j_sft = j_result.getFeatureType()
        type_name = j_sft.getTypeName()
        if type_name in self._feature_type_cache:
            sft = self._feature_type_cache[type_name]
        else:
            j_attrs = j_sft.getAttributeDescriptors().iterator()
            descriptors = []
            while j_attrs.hasNext():
                descriptors.append(AttributeDescriptor.from_java_attribute_descriptor(j_attrs.next()))
            sft = SimpleFeatureType(j_sft, descriptors)
            self._feature_type_cache[type_name] = sft
        return SimpleFeature(sft, j_result)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="pygw.query.vector.result_transformers.EnvelopeTransformer"><code class="flex name class">
<span>class <span class="ident">EnvelopeTransformer</span></span>
<span>(</span><span>*args, **kwargs)</span>
</code></dt>
<dd>
<section class="desc"><p>Transforms Java Envelope results into a tuple.</p></section>
<details class="source">
<summary>Source code</summary>
<pre><code class="python">class EnvelopeTransformer(QueryResultTransformer):
    &#34;&#34;&#34;
    Transforms Java Envelope results into a tuple.
    &#34;&#34;&#34;

    def transform(self, j_result):
        &#34;&#34;&#34;
        Transform the given Java Envelope into a tuple.

        Args:
            j_result (Java Envelope): An Envelope Java object.
        Returns:
            A tuple of (minX, minY, maxX, maxY) of the envelope.
        &#34;&#34;&#34;
        return j_result.getMinX(), j_result.getMinY(), j_result.getMaxX(), j_result.getMaxY()</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="pygw.query.query_result_transformer.QueryResultTransformer" href="../query_result_transformer.html#pygw.query.query_result_transformer.QueryResultTransformer">QueryResultTransformer</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="pygw.query.vector.result_transformers.EnvelopeTransformer.transform"><code class="name flex">
<span>def <span class="ident">transform</span></span>(<span>self, j_result)</span>
</code></dt>
<dd>
<section class="desc"><p>Transform the given Java Envelope into a tuple.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>j_result</code></strong> :&ensp;<code>Java</code> <code>Envelope</code></dt>
<dd>An Envelope Java object.</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>A tuple of (minX, minY, maxX, maxY) of the envelope.</p></section>
<details class="source">
<summary>Source code</summary>
<pre><code class="python">def transform(self, j_result):
    &#34;&#34;&#34;
    Transform the given Java Envelope into a tuple.

    Args:
        j_result (Java Envelope): An Envelope Java object.
    Returns:
        A tuple of (minX, minY, maxX, maxY) of the envelope.
    &#34;&#34;&#34;
    return j_result.getMinX(), j_result.getMinY(), j_result.getMaxX(), j_result.getMaxY()</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="pygw.query.vector.result_transformers.IntervalTransformer"><code class="flex name class">
<span>class <span class="ident">IntervalTransformer</span></span>
<span>(</span><span>*args, **kwargs)</span>
</code></dt>
<dd>
<section class="desc"><p>Transforms Java Interval results into a tuple.</p></section>
<details class="source">
<summary>Source code</summary>
<pre><code class="python">class IntervalTransformer(QueryResultTransformer):
    &#34;&#34;&#34;
    Transforms Java Interval results into a tuple.
    &#34;&#34;&#34;

    def transform(self, j_result):
        &#34;&#34;&#34;
        Transform the given Java Interval into a tuple.

        Args:
            j_result (Java Envelope): An Interval Java object.
        Returns:
            A tuple of (start, end) of the interval.
        &#34;&#34;&#34;
        return datetime.utcfromtimestamp(j_result.getStart().getEpochSecond()), datetime.utcfromtimestamp(
            j_result.getEnd().getEpochSecond())</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="pygw.query.query_result_transformer.QueryResultTransformer" href="../query_result_transformer.html#pygw.query.query_result_transformer.QueryResultTransformer">QueryResultTransformer</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="pygw.query.vector.result_transformers.IntervalTransformer.transform"><code class="name flex">
<span>def <span class="ident">transform</span></span>(<span>self, j_result)</span>
</code></dt>
<dd>
<section class="desc"><p>Transform the given Java Interval into a tuple.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>j_result</code></strong> :&ensp;<code>Java</code> <code>Envelope</code></dt>
<dd>An Interval Java object.</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>A tuple of (start, end) of the interval.</p></section>
<details class="source">
<summary>Source code</summary>
<pre><code class="python">def transform(self, j_result):
    &#34;&#34;&#34;
    Transform the given Java Interval into a tuple.

    Args:
        j_result (Java Envelope): An Interval Java object.
    Returns:
        A tuple of (start, end) of the interval.
    &#34;&#34;&#34;
    return datetime.utcfromtimestamp(j_result.getStart().getEpochSecond()), datetime.utcfromtimestamp(
        j_result.getEnd().getEpochSecond())</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="pygw.query.vector.result_transformers.SimpleFeatureTransformer"><code class="flex name class">
<span>class <span class="ident">SimpleFeatureTransformer</span></span>
</code></dt>
<dd>
<section class="desc"><p>Transforms Java SimpleFeature query results into pgyw.geotools.SimpleFeature
results.
In order to accomplish this, the pygw variant of the SimpleFeatureType
has to be constructed from the feature.
In order to avoid doing this for every
result, there is a feature type cache that the transform function can pull from.</p></section>
<details class="source">
<summary>Source code</summary>
<pre><code class="python">class SimpleFeatureTransformer(QueryResultTransformer):
    &#34;&#34;&#34;
    Transforms Java SimpleFeature query results into pgyw.geotools.SimpleFeature
    results.  In order to accomplish this, the pygw variant of the SimpleFeatureType
    has to be constructed from the feature.  In order to avoid doing this for every
    result, there is a feature type cache that the transform function can pull from.
    &#34;&#34;&#34;

    def __init__(self):
        self._feature_type_cache = {}

    def transform(self, j_result):
        &#34;&#34;&#34;
        Transform the given Java SimpleFeature into a pygw.geotools.SimpleFeature.

        Args:
            j_result (Java SimpleFeature): A geotools SimpleFeature Java object.
        Returns:
            A `pygw.geotools.simple_feature.SimpleFeature`.
        &#34;&#34;&#34;
        j_sft = j_result.getFeatureType()
        type_name = j_sft.getTypeName()
        if type_name in self._feature_type_cache:
            sft = self._feature_type_cache[type_name]
        else:
            j_attrs = j_sft.getAttributeDescriptors().iterator()
            descriptors = []
            while j_attrs.hasNext():
                descriptors.append(AttributeDescriptor.from_java_attribute_descriptor(j_attrs.next()))
            sft = SimpleFeatureType(j_sft, descriptors)
            self._feature_type_cache[type_name] = sft
        return SimpleFeature(sft, j_result)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="pygw.query.query_result_transformer.QueryResultTransformer" href="../query_result_transformer.html#pygw.query.query_result_transformer.QueryResultTransformer">QueryResultTransformer</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="pygw.query.vector.result_transformers.SimpleFeatureTransformer.transform"><code class="name flex">
<span>def <span class="ident">transform</span></span>(<span>self, j_result)</span>
</code></dt>
<dd>
<section class="desc"><p>Transform the given Java SimpleFeature into a pygw.geotools.SimpleFeature.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>j_result</code></strong> :&ensp;<code>Java</code> <code>SimpleFeature</code></dt>
<dd>A geotools SimpleFeature Java object.</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>A <a title="pygw.geotools.simple_feature.SimpleFeature" href="../../geotools/simple_feature.html#pygw.geotools.simple_feature.SimpleFeature"><code>SimpleFeature</code></a>.</p></section>
<details class="source">
<summary>Source code</summary>
<pre><code class="python">def transform(self, j_result):
    &#34;&#34;&#34;
    Transform the given Java SimpleFeature into a pygw.geotools.SimpleFeature.

    Args:
        j_result (Java SimpleFeature): A geotools SimpleFeature Java object.
    Returns:
        A `pygw.geotools.simple_feature.SimpleFeature`.
    &#34;&#34;&#34;
    j_sft = j_result.getFeatureType()
    type_name = j_sft.getTypeName()
    if type_name in self._feature_type_cache:
        sft = self._feature_type_cache[type_name]
    else:
        j_attrs = j_sft.getAttributeDescriptors().iterator()
        descriptors = []
        while j_attrs.hasNext():
            descriptors.append(AttributeDescriptor.from_java_attribute_descriptor(j_attrs.next()))
        sft = SimpleFeatureType(j_sft, descriptors)
        self._feature_type_cache[type_name] = sft
    return SimpleFeature(sft, j_result)</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="pygw.query.vector" href="index.html">pygw.query.vector</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="pygw.query.vector.result_transformers.EnvelopeTransformer" href="#pygw.query.vector.result_transformers.EnvelopeTransformer">EnvelopeTransformer</a></code></h4>
<ul class="">
<li><code><a title="pygw.query.vector.result_transformers.EnvelopeTransformer.transform" href="#pygw.query.vector.result_transformers.EnvelopeTransformer.transform">transform</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="pygw.query.vector.result_transformers.IntervalTransformer" href="#pygw.query.vector.result_transformers.IntervalTransformer">IntervalTransformer</a></code></h4>
<ul class="">
<li><code><a title="pygw.query.vector.result_transformers.IntervalTransformer.transform" href="#pygw.query.vector.result_transformers.IntervalTransformer.transform">transform</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="pygw.query.vector.result_transformers.SimpleFeatureTransformer" href="#pygw.query.vector.result_transformers.SimpleFeatureTransformer">SimpleFeatureTransformer</a></code></h4>
<ul class="">
<li><code><a title="pygw.query.vector.result_transformers.SimpleFeatureTransformer.transform" href="#pygw.query.vector.result_transformers.SimpleFeatureTransformer.transform">transform</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.6.3</a>.</p>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
</body>
</html>